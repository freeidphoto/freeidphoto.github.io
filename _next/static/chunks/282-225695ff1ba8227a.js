(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[282],{5861:function(t,e,i){t.exports={default:i(5627),__esModule:!0}},2242:function(t,e,i){t.exports={default:i(3391),__esModule:!0}},5105:function(t,e,i){t.exports={default:i(381),__esModule:!0}},5345:function(t,e,i){t.exports={default:i(433),__esModule:!0}},3516:function(t,e,i){t.exports={default:i(25),__esModule:!0}},4275:function(t,e,i){t.exports={default:i(7118),__esModule:!0}},9663:function(t,e){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}},2600:function(t,e,i){"use strict";e.__esModule=!0;var n,r,o=(n=i(2242),n&&n.__esModule?n:{default:n});e.default=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,o.default)(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}()},3196:function(t,e,i){"use strict";e.__esModule=!0;var n=i(5345),r=c(n),o=i(5861),a=c(o),s=i(2444),h=c(s);function c(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function, not "+(void 0===e?"undefined":(0,h.default)(e)));t.prototype=(0,a.default)(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(r.default?(0,r.default)(t,e):t.__proto__=e)}},9135:function(t,e,i){"use strict";e.__esModule=!0;var n,r,o=(n=i(2444),n&&n.__esModule?n:{default:n});e.default=function(t,e){if(!t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&((void 0===e?"undefined":(0,o.default)(e))==="object"||"function"==typeof e)?e:t}},2444:function(t,e,i){"use strict";e.__esModule=!0;var n=i(4275),r=h(n),o=i(3516),a=h(o),s="function"==typeof a.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof a.default&&t.constructor===a.default&&t!==a.default.prototype?"symbol":typeof t};function h(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof a.default&&"symbol"===s(r.default)?function(t){return void 0===t?"undefined":s(t)}:function(t){return t&&"function"==typeof a.default&&t.constructor===a.default&&t!==a.default.prototype?"symbol":void 0===t?"undefined":s(t)}},5627:function(t,e,i){i(6760);var n=i(4579).Object;t.exports=function(t,e){return n.create(t,e)}},3391:function(t,e,i){i(1477);var n=i(4579).Object;t.exports=function(t,e,i){return n.defineProperty(t,e,i)}},381:function(t,e,i){i(7220),t.exports=i(4579).Object.getPrototypeOf},433:function(t,e,i){i(9349),t.exports=i(4579).Object.setPrototypeOf},25:function(t,e,i){i(3155),i(4058),i(8174),i(6461),t.exports=i(4579).Symbol},7118:function(t,e,i){i(1867),i(3871),t.exports=i(5103).f("iterator")},5663:function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},9003:function(t){t.exports=function(){}},2159:function(t,e,i){var n=i(6727);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},7428:function(t,e,i){var n=i(7932),r=i(8728),o=i(6531);t.exports=function(t){return function(e,i,a){var s,h=n(e),c=r(h.length),u=o(a,c);if(t&&i!=i){for(;c>u;)if((s=h[u++])!=s)return!0}else for(;c>u;u++)if((t||u in h)&&h[u]===i)return t||u||0;return!t&&-1}}},2894:function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},4579:function(t){var e=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},9216:function(t,e,i){var n=i(5663);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},8333:function(t){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},9666:function(t,e,i){t.exports=!i(7929)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},7467:function(t,e,i){var n=i(6727),r=i(3938).document,o=n(r)&&n(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},3338:function(t){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},337:function(t,e,i){var n=i(6162),r=i(8195),o=i(6274);t.exports=function(t){var e=n(t),i=r.f;if(i)for(var a,s=i(t),h=o.f,c=0;s.length>c;)h.call(t,a=s[c++])&&e.push(a);return e}},3856:function(t,e,i){var n=i(3938),r=i(4579),o=i(9216),a=i(1818),s=i(7069),h="prototype",c=function(t,e,i){var u,f,l,A=t&c.F,p=t&c.G,d=t&c.S,g=t&c.P,m=t&c.B,v=t&c.W,y=p?r:r[e]||(r[e]={}),w=y[h],b=p?n:d?n[e]:(n[e]||{})[h];for(u in p&&(i=e),i)!((f=!A&&b&&void 0!==b[u])&&s(y,u))&&(l=f?b[u]:i[u],y[u]=p&&"function"!=typeof b[u]?i[u]:m&&f?o(l,n):v&&b[u]==l?function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e[h]=t[h],e}(l):g&&"function"==typeof l?o(Function.call,l):l,g&&((y.virtual||(y.virtual={}))[u]=l,t&c.R&&w&&!w[u]&&a(w,u,l)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},7929:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},3938:function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},7069:function(t){var e={}.hasOwnProperty;t.exports=function(t,i){return e.call(t,i)}},1818:function(t,e,i){var n=i(4743),r=i(3101);t.exports=i(9666)?function(t,e,i){return n.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},4881:function(t,e,i){var n=i(3938).document;t.exports=n&&n.documentElement},3758:function(t,e,i){t.exports=!i(9666)&&!i(7929)(function(){return 7!=Object.defineProperty(i(7467)("div"),"a",{get:function(){return 7}}).a})},799:function(t,e,i){var n=i(2894);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},1421:function(t,e,i){var n=i(2894);t.exports=Array.isArray||function(t){return"Array"==n(t)}},6727:function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},3945:function(t,e,i){"use strict";var n=i(526),r=i(3101),o=i(5378),a={};i(1818)(a,i(2939)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=n(a,{next:r(1,i)}),o(t,e+" Iterator")}},5700:function(t,e,i){"use strict";var n=i(6227),r=i(3856),o=i(7470),a=i(1818),s=i(5449),h=i(3945),c=i(5378),u=i(5089),f=i(2939)("iterator"),l=!([].keys&&"next"in[].keys()),A="keys",p="values",d=function(){return this};t.exports=function(t,e,i,g,m,v,y){h(i,e,g);var w,b,I,B=function(t){if(!l&&t in Q)return Q[t];return function(){return new i(this,t)}},E=e+" Iterator",C=m==p,x=!1,Q=t.prototype,_=Q[f]||Q["@@iterator"]||m&&Q[m],M=_||B(m),D=m?C?B("entries"):M:void 0,O="Array"==e&&Q.entries||_;if(O&&(I=u(O.call(new t)))!==Object.prototype&&I.next&&(c(I,E,!0),n||"function"==typeof I[f]||a(I,f,d)),C&&_&&_.name!==p&&(x=!0,M=function(){return _.call(this)}),(!n||y)&&(l||x||!Q[f])&&a(Q,f,M),s[e]=M,s[E]=d,m){if(w={values:C?M:B(p),keys:v?M:B(A),entries:D},y)for(b in w)b in Q||o(Q,b,w[b]);else r(r.P+r.F*(l||x),e,w)}return w}},5084:function(t){t.exports=function(t,e){return{value:e,done:!!t}}},5449:function(t){t.exports={}},6227:function(t){t.exports=!0},7177:function(t,e,i){var n=i(5730)("meta"),r=i(6727),o=i(7069),a=i(4743).f,s=0,h=Object.isExtensible||function(){return!0},c=!i(7929)(function(){return h(Object.preventExtensions({}))}),u=function(t){a(t,n,{value:{i:"O"+ ++s,w:{}}})},f=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,n)){if(!h(t))return"F";if(!e)return"E";u(t)}return t[n].i},l=function(t,e){if(!o(t,n)){if(!h(t))return!0;if(!e)return!1;u(t)}return t[n].w},A=function(t){return c&&p.NEED&&h(t)&&!o(t,n)&&u(t),t},p=t.exports={KEY:n,NEED:!1,fastKey:f,getWeak:l,onFreeze:A}},526:function(t,e,i){var n=i(2159),r=i(7856),o=i(3338),a=i(8989)("IE_PROTO"),s=function(){},h="prototype",c=function(){var t,e=i(7467)("iframe"),n=o.length;for(e.style.display="none",i(4881).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object</script>"),t.close(),c=t.F;n--;)delete c[h][o[n]];return c()};t.exports=Object.create||function(t,e){var i;return null!==t?(s[h]=n(t),i=new s,s[h]=null,i[a]=t):i=c(),void 0===e?i:r(i,e)}},4743:function(t,e,i){var n=i(2159),r=i(3758),o=i(3206),a=Object.defineProperty;e.f=i(9666)?Object.defineProperty:function(t,e,i){if(n(t),e=o(e,!0),n(i),r)try{return a(t,e,i)}catch(s){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},7856:function(t,e,i){var n=i(4743),r=i(2159),o=i(6162);t.exports=i(9666)?Object.defineProperties:function(t,e){r(t);for(var i,a=o(e),s=a.length,h=0;s>h;)n.f(t,i=a[h++],e[i]);return t}},6183:function(t,e,i){var n=i(6274),r=i(3101),o=i(7932),a=i(3206),s=i(7069),h=i(3758),c=Object.getOwnPropertyDescriptor;e.f=i(9666)?c:function(t,e){if(t=o(t),e=a(e,!0),h)try{return c(t,e)}catch(i){}if(s(t,e))return r(!n.f.call(t,e),t[e])}},4368:function(t,e,i){var n=i(7932),r=i(3230).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return r(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):r(n(t))}},3230:function(t,e,i){var n=i(2963),r=i(3338).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},8195:function(t,e){e.f=Object.getOwnPropertySymbols},5089:function(t,e,i){var n=i(7069),r=i(6530),o=i(8989)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return(t=r(t),n(t,o))?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},2963:function(t,e,i){var n=i(7069),r=i(7932),o=i(7428)(!1),a=i(8989)("IE_PROTO");t.exports=function(t,e){var i,s=r(t),h=0,c=[];for(i in s)i!=a&&n(s,i)&&c.push(i);for(;e.length>h;)n(s,i=e[h++])&&(~o(c,i)||c.push(i));return c}},6162:function(t,e,i){var n=i(2963),r=i(3338);t.exports=Object.keys||function(t){return n(t,r)}},6274:function(t,e){e.f=({}).propertyIsEnumerable},2584:function(t,e,i){var n=i(3856),r=i(4579),o=i(7929);t.exports=function(t,e){var i=(r.Object||{})[t]||Object[t],a={};a[t]=e(i),n(n.S+n.F*o(function(){i(1)}),"Object",a)}},3101:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},7470:function(t,e,i){t.exports=i(1818)},2906:function(t,e,i){var n=i(6727),r=i(2159),o=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=i(9216)(Function.call,i(6183).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,i){return o(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):void 0),check:o}},5378:function(t,e,i){var n=i(4743).f,r=i(7069),o=i(2939)("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},8989:function(t,e,i){var n=i(250)("keys"),r=i(5730);t.exports=function(t){return n[t]||(n[t]=r(t))}},250:function(t,e,i){var n=i(4579),r=i(3938),o="__core-js_shared__",a=r[o]||(r[o]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:i(6227)?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},510:function(t,e,i){var n=i(1052),r=i(8333);t.exports=function(t){return function(e,i){var o,a,s=String(r(e)),h=n(i),c=s.length;return h<0||h>=c?t?"":void 0:(o=s.charCodeAt(h))<55296||o>56319||h+1===c||(a=s.charCodeAt(h+1))<56320||a>57343?t?s.charAt(h):o:t?s.slice(h,h+2):(o-55296<<10)+(a-56320)+65536}}},6531:function(t,e,i){var n=i(1052),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=n(t))<0?r(t+e,0):o(t,e)}},1052:function(t){var e=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:e)(t)}},7932:function(t,e,i){var n=i(799),r=i(8333);t.exports=function(t){return n(r(t))}},8728:function(t,e,i){var n=i(1052),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},6530:function(t,e,i){var n=i(8333);t.exports=function(t){return Object(n(t))}},3206:function(t,e,i){var n=i(6727);t.exports=function(t,e){var i,r;if(!n(t))return t;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t))||"function"==typeof(i=t.valueOf)&&!n(r=i.call(t))||!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},5730:function(t){var e=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+i).toString(36))}},6347:function(t,e,i){var n=i(3938),r=i(4579),o=i(6227),a=i(5103),s=i(4743).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},5103:function(t,e,i){e.f=i(2939)},2939:function(t,e,i){var n=i(250)("wks"),r=i(5730),o=i(3938).Symbol,a="function"==typeof o;(t.exports=function(t){return n[t]||(n[t]=a&&o[t]||(a?o:r)("Symbol."+t))}).store=n},3882:function(t,e,i){"use strict";var n=i(9003),r=i(5084),o=i(5449),a=i(7932);t.exports=i(5700)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,r(1)):"keys"==e?r(0,i):"values"==e?r(0,t[i]):r(0,[i,t[i]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},6760:function(t,e,i){var n=i(3856);n(n.S,"Object",{create:i(526)})},1477:function(t,e,i){var n=i(3856);n(n.S+!i(9666)*n.F,"Object",{defineProperty:i(4743).f})},7220:function(t,e,i){var n=i(6530),r=i(5089);i(2584)("getPrototypeOf",function(){return function(t){return r(n(t))}})},9349:function(t,e,i){var n=i(3856);n(n.S,"Object",{setPrototypeOf:i(2906).set})},4058:function(){},1867:function(t,e,i){"use strict";var n=i(510)(!0);i(5700)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},3155:function(t,e,i){"use strict";var n=i(3938),r=i(7069),o=i(9666),a=i(3856),s=i(7470),h=i(7177).KEY,c=i(7929),u=i(250),f=i(5378),l=i(5730),A=i(2939),p=i(5103),d=i(6347),g=i(337),m=i(1421),v=i(2159),y=i(6727),w=i(6530),b=i(7932),I=i(3206),B=i(3101),E=i(526),C=i(4368),x=i(6183),Q=i(8195),_=i(4743),M=i(6162),D=x.f,O=_.f,k=C.f,T=n.Symbol,S=n.JSON,j=S&&S.stringify,R="prototype",L=A("_hidden"),H=A("toPrimitive"),U={}.propertyIsEnumerable,P=u("symbol-registry"),W=u("symbols"),N=u("op-symbols"),G=Object[R],Y="function"==typeof T&&!!Q.f,z=n.QObject,F=!z||!z[R]||!z[R].findChild,q=o&&c(function(){return 7!=E(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=D(G,e);n&&delete G[e],O(t,e,i),n&&t!==G&&O(G,e,n)}:O,X=function(t){var e=W[t]=E(T[R]);return e._k=t,e},J=Y&&"symbol"==typeof T.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof T},K=function(t,e,i){return(t===G&&K(N,e,i),v(t),e=I(e,!0),v(i),r(W,e))?(i.enumerable?(r(t,L)&&t[L][e]&&(t[L][e]=!1),i=E(i,{enumerable:B(0,!1)})):(r(t,L)||O(t,L,B(1,{})),t[L][e]=!0),q(t,e,i)):O(t,e,i)},Z=function(t,e){v(t);for(var i,n=g(e=b(e)),r=0,o=n.length;o>r;)K(t,i=n[r++],e[i]);return t},V=function(t,e){return void 0===e?E(t):Z(E(t),e)},$=function(t){var e=U.call(this,t=I(t,!0));return(!(this===G&&r(W,t))||!!r(N,t))&&(!(e||!r(this,t)||!r(W,t)||r(this,L)&&this[L][t])||e)},tt=function(t,e){if(t=b(t),e=I(e,!0),!(t===G&&r(W,e))||r(N,e)){var i=D(t,e);return i&&r(W,e)&&!(r(t,L)&&t[L][e])&&(i.enumerable=!0),i}},te=function(t){for(var e,i=k(b(t)),n=[],o=0;i.length>o;)r(W,e=i[o++])||e==L||e==h||n.push(e);return n},ti=function(t){for(var e,i=t===G,n=k(i?N:b(t)),o=[],a=0;n.length>a;)r(W,e=n[a++])&&(!i||r(G,e))&&o.push(W[e]);return o};Y||(s((T=function(){if(this instanceof T)throw TypeError("Symbol is not a constructor!");var t=l(arguments.length>0?arguments[0]:void 0),e=function(i){this===G&&e.call(N,i),r(this,L)&&r(this[L],t)&&(this[L][t]=!1),q(this,t,B(1,i))};return o&&F&&q(G,t,{configurable:!0,set:e}),X(t)})[R],"toString",function(){return this._k}),x.f=tt,_.f=K,i(3230).f=C.f=te,i(6274).f=$,Q.f=ti,o&&!i(6227)&&s(G,"propertyIsEnumerable",$,!0),p.f=function(t){return X(A(t))}),a(a.G+a.W+!Y*a.F,{Symbol:T});for(var tn="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tr=0;tn.length>tr;)A(tn[tr++]);for(var to=M(A.store),ta=0;to.length>ta;)d(to[ta++]);a(a.S+!Y*a.F,"Symbol",{for:function(t){return r(P,t+="")?P[t]:P[t]=T(t)},keyFor:function(t){if(!J(t))throw TypeError(t+" is not a symbol!");for(var e in P)if(P[e]===t)return e},useSetter:function(){F=!0},useSimple:function(){F=!1}}),a(a.S+!Y*a.F,"Object",{create:V,defineProperty:K,defineProperties:Z,getOwnPropertyDescriptor:tt,getOwnPropertyNames:te,getOwnPropertySymbols:ti});var ts=c(function(){Q.f(1)});a(a.S+a.F*ts,"Object",{getOwnPropertySymbols:function(t){return Q.f(w(t))}}),S&&a(a.S+a.F*(!Y||c(function(){var t=T();return"[null]"!=j([t])||"{}"!=j({a:t})||"{}"!=j(Object(t))})),"JSON",{stringify:function(t){for(var e,i,n=[t],r=1;arguments.length>r;)n.push(arguments[r++]);if(i=e=n[1],!(!y(e)&&void 0===t||J(t)))return m(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!J(e))return e}),n[1]=e,j.apply(S,n)}}),T[R][H]||i(1818)(T[R],H,T[R].valueOf),f(T,"Symbol"),f(Math,"Math",!0),f(n.JSON,"JSON",!0)},8174:function(t,e,i){i(6347)("asyncIterator")},6461:function(t,e,i){i(6347)("observable")},3871:function(t,e,i){i(3882);for(var n=i(3938),r=i(1818),o=i(5449),a=i(2939)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),h=0;h<s.length;h++){var c=s[h],u=n[c],f=u&&u.prototype;f&&!f[a]&&r(f,a,c),o[c]=o.Array}},3129:function(t){var e;e=function(){"use strict";function t(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function e(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?t(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if("Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return a(t,e)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}var s="undefined"!=typeof window&&void 0!==window.document,h=s?window:{},c=!!s&&!!h.document.documentElement&&"ontouchstart"in h.document.documentElement,u=!!s&&"PointerEvent"in h,f="cropper",l="crop",A="move",p="zoom",d="".concat(f,"-crop"),g="".concat(f,"-disabled"),m="".concat(f,"-hidden"),v="".concat(f,"-hide"),y="".concat(f,"-invisible"),w="".concat(f,"-modal"),b="".concat(f,"-move"),I="".concat(f,"Action"),B="".concat(f,"Preview"),E="crop",C="move",x="none",Q="crop",_="cropend",M="cropmove",D="cropstart",O="dblclick",k=u?"pointerdown":c?"touchstart":"mousedown",T=u?"pointermove":c?"touchmove":"mousemove",S=u?"pointerup pointercancel":c?"touchend touchcancel":"mouseup",j="ready",R="resize",L="wheel",H="zoom",U="image/jpeg",P=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,W=/^data:/,N=/^data:image\/jpeg;base64,/,G=/^img|canvas$/i,Y={viewMode:0,dragMode:E,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},z=Number.isNaN||h.isNaN;function F(t){return"number"==typeof t&&!z(t)}var q=function(t){return t>0&&t<1/0};function X(t){return void 0===t}function J(t){return"object"===i(t)&&null!==t}var K=Object.prototype.hasOwnProperty;function Z(t){if(!J(t))return!1;try{var e=t.constructor,i=e.prototype;return e&&i&&K.call(i,"isPrototypeOf")}catch(n){return!1}}function V(t){return"function"==typeof t}var $=Array.prototype.slice;function tt(t){return Array.from?Array.from(t):$.call(t)}function te(t,e){return t&&V(e)&&(Array.isArray(t)||F(t.length)?tt(t).forEach(function(i,n){e.call(t,i,n,t)}):J(t)&&Object.keys(t).forEach(function(i){e.call(t,t[i],i,t)})),t}var ti=Object.assign||function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return J(t)&&i.length>0&&i.forEach(function(e){J(e)&&Object.keys(e).forEach(function(i){t[i]=e[i]})}),t},tn=/\.\d*(?:0|9){12}\d*$/;function tr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return tn.test(t)?Math.round(t*e)/e:t}var to=/^width|height|left|top|marginLeft|marginTop$/;function ta(t,e){var i=t.style;te(e,function(t,e){to.test(e)&&F(t)&&(t="".concat(t,"px")),i[e]=t})}function ts(t,e){if(e){if(F(t.length)){te(t,function(t){ts(t,e)});return}if(t.classList){t.classList.add(e);return}var i=t.className.trim();i?0>i.indexOf(e)&&(t.className="".concat(i," ").concat(e)):t.className=e}}function th(t,e){if(e){if(F(t.length)){te(t,function(t){th(t,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function tc(t,e,i){if(e){if(F(t.length)){te(t,function(t){tc(t,e,i)});return}i?ts(t,e):th(t,e)}}var tu=/([a-z\d])([A-Z])/g;function tf(t){return t.replace(tu,"$1-$2").toLowerCase()}function tl(t,e){return J(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(tf(e)))}function tA(t,e,i){J(i)?t[e]=i:t.dataset?t.dataset[e]=i:t.setAttribute("data-".concat(tf(e)),i)}var tp=/\s\s*/,td=function(){var t=!1;if(s){var e=!1,i=function(){},n=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(t){e=t}});h.addEventListener("test",i,n),h.removeEventListener("test",i,n)}return t}();function tg(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i;e.trim().split(tp).forEach(function(e){if(!td){var o=t.listeners;o&&o[e]&&o[e][i]&&(r=o[e][i],delete o[e][i],0===Object.keys(o[e]).length&&delete o[e],0===Object.keys(o).length&&delete t.listeners)}t.removeEventListener(e,r,n)})}function tm(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i;e.trim().split(tp).forEach(function(e){if(n.once&&!td){var o=t.listeners,a=void 0===o?{}:o;r=function(){delete a[e][i],t.removeEventListener(e,r,n);for(var o=arguments.length,s=Array(o),h=0;h<o;h++)s[h]=arguments[h];i.apply(t,s)},a[e]||(a[e]={}),a[e][i]&&t.removeEventListener(e,a[e][i],n),a[e][i]=r,t.listeners=a}t.addEventListener(e,r,n)})}function tv(t,e,i){var n;return V(Event)&&V(CustomEvent)?n=new CustomEvent(e,{detail:i,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,i),t.dispatchEvent(n)}function ty(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var tw=h.location,tb=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function tI(t){var e=t.match(tb);return null!==e&&(e[1]!==tw.protocol||e[2]!==tw.hostname||e[3]!==tw.port)}function tB(t){var e="timestamp=".concat(new Date().getTime());return t+(-1===t.indexOf("?")?"?":"&")+e}function tE(t){var e=t.rotate,i=t.scaleX,n=t.scaleY,r=t.translateX,o=t.translateY,a=[];F(r)&&0!==r&&a.push("translateX(".concat(r,"px)")),F(o)&&0!==o&&a.push("translateY(".concat(o,"px)")),F(e)&&0!==e&&a.push("rotate(".concat(e,"deg)")),F(i)&&1!==i&&a.push("scaleX(".concat(i,")")),F(n)&&1!==n&&a.push("scaleY(".concat(n,")"));var s=a.length?a.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function tC(t,i){var n=t.pageX,r=t.pageY,o={endX:n,endY:r};return i?o:e({startX:n,startY:r},o)}function tx(t){var e=t.aspectRatio,i=t.height,n=t.width,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",o=q(n),a=q(i);if(o&&a){var s=i*e;"contain"===r&&s>n||"cover"===r&&s<n?i=n/e:n=i*e}else o?i=n/e:a&&(n=i*e);return{width:n,height:i}}var tQ=String.fromCharCode,t_=/^data:.*,/,tM=h.Cropper,tD=function(){var t,e,i;function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}(this,r),!t||!G.test(t.tagName))throw Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=ti({},Y,Z(e)&&e),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return e=[{key:"init",value:function(){var t,e=this.element,i=e.tagName.toLowerCase();if(!e[f]){if(e[f]=this,"img"===i){if(this.isImg=!0,t=e.getAttribute("src")||"",this.originalUrl=t,!t)return;t=e.src}else"canvas"===i&&window.HTMLCanvasElement&&(t=e.toDataURL());this.load(t)}}},{key:"load",value:function(t){var e,i,n,r,o,a=this;if(t){this.url=t,this.imageData={};var s=this.element,h=this.options;if(h.rotatable||h.scalable||(h.checkOrientation=!1),!h.checkOrientation||!window.ArrayBuffer){this.clone();return}if(W.test(t)){N.test(t)?this.read((i=(e=t).replace(t_,""),n=atob(i),r=new ArrayBuffer(n.length),o=new Uint8Array(r),te(o,function(t,e){o[e]=n.charCodeAt(e)}),r)):this.clone();return}var c=new XMLHttpRequest,u=this.clone.bind(this);this.reloading=!0,this.xhr=c,c.onabort=u,c.onerror=u,c.ontimeout=u,c.onprogress=function(){c.getResponseHeader("content-type")!==U&&c.abort()},c.onload=function(){a.read(c.response)},c.onloadend=function(){a.reloading=!1,a.xhr=null},h.checkCrossOrigin&&tI(t)&&s.crossOrigin&&(t=tB(t)),c.open("GET",t,!0),c.responseType="arraybuffer",c.withCredentials="use-credentials"===s.crossOrigin,c.send()}}},{key:"read",value:function(t){var e=this.options,i=this.imageData,n=function(t){var e=new DataView(t);try{if(255===e.getUint8(0)&&216===e.getUint8(1))for(var i=e.byteLength,n=2;n+1<i;){if(255===e.getUint8(n)&&225===e.getUint8(n+1)){u=n;break}n+=1}if(u){var r=u+4,o=u+10;if("Exif"===function(t,e,i){var n="";i+=e;for(var r=e;r<i;r+=1)n+=tQ(t.getUint8(r));return n}(e,r,4)){var a=e.getUint16(o);if(((c=18761===a)||19789===a)&&42===e.getUint16(o+2,c)){var s=e.getUint32(o+4,c);s>=8&&(f=o+s)}}}if(f){var h,c,u,f,l,A,p=e.getUint16(f,c);for(A=0;A<p;A+=1)if(l=f+12*A+2,274===e.getUint16(l,c)){l+=8,h=e.getUint16(l,c),e.setUint16(l,1,c);break}}}catch(d){h=1}return h}(t),r=0,o=1,a=1;if(n>1){this.url=function(t,e){for(var i=[],n=new Uint8Array(t);n.length>0;)i.push(tQ.apply(null,tt(n.subarray(0,8192)))),n=n.subarray(8192);return"data:".concat(e,";base64,").concat(btoa(i.join("")))}(t,U);var s=function(t){var e=0,i=1,n=1;switch(t){case 2:i=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,i=-1;break;case 8:e=-90}return{rotate:e,scaleX:i,scaleY:n}}(n);r=s.rotate,o=s.scaleX,a=s.scaleY}e.rotatable&&(i.rotate=r),e.scalable&&(i.scaleX=o,i.scaleY=a),this.clone()}},{key:"clone",value:function(){var t=this.element,e=this.url,i=t.crossOrigin,n=e;this.options.checkCrossOrigin&&tI(e)&&(i||(i="anonymous"),n=tB(e)),this.crossOrigin=i,this.crossOriginUrl=n;var r=document.createElement("img");i&&(r.crossOrigin=i),r.src=n||e,r.alt=t.alt||"The image to crop",this.image=r,r.onload=this.start.bind(this),r.onerror=this.stop.bind(this),ts(r,v),t.parentNode.insertBefore(r,t.nextSibling)}},{key:"start",value:function(){var t=this,e=this.image;e.onload=null,e.onerror=null,this.sizing=!0;var i=h.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(h.navigator.userAgent),n=function(e,i){ti(t.imageData,{naturalWidth:e,naturalHeight:i,aspectRatio:e/i}),t.initialImageData=ti({},t.imageData),t.sizing=!1,t.sized=!0,t.build()};if(e.naturalWidth&&!i){n(e.naturalWidth,e.naturalHeight);return}var r=document.createElement("img"),o=document.body||document.documentElement;this.sizingImage=r,r.onload=function(){n(r.width,r.height),i||o.removeChild(r)},r.src=e.src,i||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",o.appendChild(r))}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var t=this.element,e=this.options,i=this.image,n=t.parentNode,r=document.createElement("div");r.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var o=r.querySelector(".".concat(f,"-container")),a=o.querySelector(".".concat(f,"-canvas")),s=o.querySelector(".".concat(f,"-drag-box")),h=o.querySelector(".".concat(f,"-crop-box")),c=h.querySelector(".".concat(f,"-face"));this.container=n,this.cropper=o,this.canvas=a,this.dragBox=s,this.cropBox=h,this.viewBox=o.querySelector(".".concat(f,"-view-box")),this.face=c,a.appendChild(i),ts(t,m),n.insertBefore(o,t.nextSibling),this.isImg||th(i,v),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,ts(h,m),e.guides||ts(h.getElementsByClassName("".concat(f,"-dashed")),m),e.center||ts(h.getElementsByClassName("".concat(f,"-center")),m),e.background&&ts(o,"".concat(f,"-bg")),e.highlight||ts(c,y),e.cropBoxMovable&&(ts(c,b),tA(c,I,"all")),e.cropBoxResizable||(ts(h.getElementsByClassName("".concat(f,"-line")),m),ts(h.getElementsByClassName("".concat(f,"-point")),m)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),V(e.ready)&&tm(t,j,e.ready,{once:!0}),tv(t,j)}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),th(this.element,m))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],i=[{key:"noConflict",value:function(){return window.Cropper=tM,r}},{key:"setDefaults",value:function(t){ti(Y,Z(t)&&t)}}],e&&n(r.prototype,e),i&&n(r,i),r}();return ti(tD.prototype,{render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,e=this.options,i=this.container,n=this.cropper,r=Number(e.minContainerWidth),o=Number(e.minContainerHeight);ts(n,m),th(t,m);var a={width:Math.max(i.offsetWidth,r>=0?r:200),height:Math.max(i.offsetHeight,o>=0?o:100)};this.containerData=a,ta(n,{width:a.width,height:a.height}),ts(t,m),th(n,m)},initCanvas:function(){var t=this.containerData,e=this.imageData,i=this.options.viewMode,n=Math.abs(e.rotate)%180==90,r=n?e.naturalHeight:e.naturalWidth,o=n?e.naturalWidth:e.naturalHeight,a=r/o,s=t.width,h=t.height;t.height*a>t.width?3===i?s=t.height*a:h=t.width/a:3===i?h=t.width/a:s=t.height*a;var c={aspectRatio:a,naturalWidth:r,naturalHeight:o,width:s,height:h};this.canvasData=c,this.limited=1===i||2===i,this.limitCanvas(!0,!0),c.width=Math.min(Math.max(c.width,c.minWidth),c.maxWidth),c.height=Math.min(Math.max(c.height,c.minHeight),c.maxHeight),c.left=(t.width-c.width)/2,c.top=(t.height-c.height)/2,c.oldLeft=c.left,c.oldTop=c.top,this.initialCanvasData=ti({},c)},limitCanvas:function(t,e){var i=this.options,n=this.containerData,r=this.canvasData,o=this.cropBoxData,a=i.viewMode,s=r.aspectRatio,h=this.cropped&&o;if(t){var c=Number(i.minCanvasWidth)||0,u=Number(i.minCanvasHeight)||0;a>1?(c=Math.max(c,n.width),u=Math.max(u,n.height),3===a&&(u*s>c?c=u*s:u=c/s)):a>0&&(c?c=Math.max(c,h?o.width:0):u?u=Math.max(u,h?o.height:0):h&&(c=o.width,(u=o.height)*s>c?c=u*s:u=c/s));var f=tx({aspectRatio:s,width:c,height:u});c=f.width,u=f.height,r.minWidth=c,r.minHeight=u,r.maxWidth=1/0,r.maxHeight=1/0}if(e){if(a>(h?0:1)){var l=n.width-r.width,A=n.height-r.height;r.minLeft=Math.min(0,l),r.minTop=Math.min(0,A),r.maxLeft=Math.max(0,l),r.maxTop=Math.max(0,A),h&&this.limited&&(r.minLeft=Math.min(o.left,o.left+(o.width-r.width)),r.minTop=Math.min(o.top,o.top+(o.height-r.height)),r.maxLeft=o.left,r.maxTop=o.top,2===a&&(r.width>=n.width&&(r.minLeft=Math.min(0,l),r.maxLeft=Math.max(0,l)),r.height>=n.height&&(r.minTop=Math.min(0,A),r.maxTop=Math.max(0,A))))}else r.minLeft=-r.width,r.minTop=-r.height,r.maxLeft=n.width,r.maxTop=n.height}},renderCanvas:function(t,e){var i=this.canvasData,n=this.imageData;if(e){var r=function(t){var e=t.width,i=t.height,n=t.degree;if(90==(n=Math.abs(n)%180))return{width:i,height:e};var r=n%90*Math.PI/180,o=Math.sin(r),a=Math.cos(r),s=e*a+i*o,h=e*o+i*a;return n>90?{width:h,height:s}:{width:s,height:h}}({width:n.naturalWidth*Math.abs(n.scaleX||1),height:n.naturalHeight*Math.abs(n.scaleY||1),degree:n.rotate||0}),o=r.width,a=r.height,s=i.width*(o/i.naturalWidth),h=i.height*(a/i.naturalHeight);i.left-=(s-i.width)/2,i.top-=(h-i.height)/2,i.width=s,i.height=h,i.aspectRatio=o/a,i.naturalWidth=o,i.naturalHeight=a,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,ta(this.canvas,ti({width:i.width,height:i.height},tE({translateX:i.left,translateY:i.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvasData,i=this.imageData,n=i.naturalWidth*(e.width/e.naturalWidth),r=i.naturalHeight*(e.height/e.naturalHeight);ti(i,{width:n,height:r,left:(e.width-n)/2,top:(e.height-r)/2}),ta(this.image,ti({width:i.width,height:i.height},tE(ti({translateX:i.left,translateY:i.top},i)))),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvasData,i=t.aspectRatio||t.initialAspectRatio,n=Number(t.autoCropArea)||.8,r={width:e.width,height:e.height};i&&(e.height*i>e.width?r.height=r.width/i:r.width=r.height*i),this.cropBoxData=r,this.limitCropBox(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.width=Math.max(r.minWidth,r.width*n),r.height=Math.max(r.minHeight,r.height*n),r.left=e.left+(e.width-r.width)/2,r.top=e.top+(e.height-r.height)/2,r.oldLeft=r.left,r.oldTop=r.top,this.initialCropBoxData=ti({},r)},limitCropBox:function(t,e){var i=this.options,n=this.containerData,r=this.canvasData,o=this.cropBoxData,a=this.limited,s=i.aspectRatio;if(t){var h=Number(i.minCropBoxWidth)||0,c=Number(i.minCropBoxHeight)||0,u=a?Math.min(n.width,r.width,r.width+r.left,n.width-r.left):n.width,f=a?Math.min(n.height,r.height,r.height+r.top,n.height-r.top):n.height;h=Math.min(h,n.width),c=Math.min(c,n.height),s&&(h&&c?c*s>h?c=h/s:h=c*s:h?c=h/s:c&&(h=c*s),f*s>u?f=u/s:u=f*s),o.minWidth=Math.min(h,u),o.minHeight=Math.min(c,f),o.maxWidth=u,o.maxHeight=f}e&&(a?(o.minLeft=Math.max(0,r.left),o.minTop=Math.max(0,r.top),o.maxLeft=Math.min(n.width,r.left+r.width)-o.width,o.maxTop=Math.min(n.height,r.top+r.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=n.width-o.width,o.maxTop=n.height-o.height))},renderCropBox:function(){var t=this.options,e=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,t.movable&&t.cropBoxMovable&&tA(this.face,I,i.width>=e.width&&i.height>=e.height?A:"all"),ta(this.cropBox,ti({width:i.width,height:i.height},tE({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),tv(this.element,Q,this.getData())}},{initPreview:function(){var t=this.element,e=this.crossOrigin,i=this.options.preview,n=e?this.crossOriginUrl:this.url,r=t.alt||"The image to preview",o=document.createElement("img");if(e&&(o.crossOrigin=e),o.src=n,o.alt=r,this.viewBox.appendChild(o),this.viewBoxImage=o,i){var a=i;"string"==typeof i?a=t.ownerDocument.querySelectorAll(i):i.querySelector&&(a=[i]),this.previews=a,te(a,function(t){var i=document.createElement("img");tA(t,B,{width:t.offsetWidth,height:t.offsetHeight,html:t.innerHTML}),e&&(i.crossOrigin=e),i.src=n,i.alt=r,i.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',t.innerHTML="",t.appendChild(i)})}},resetPreview:function(){te(this.previews,function(t){var e=tl(t,B);ta(t,{width:e.width,height:e.height}),t.innerHTML=e.html,function(t,e){if(J(t[e]))try{delete t[e]}catch(i){t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch(n){t.dataset[e]=void 0}else t.removeAttribute("data-".concat(tf(e)))}(t,B)})},preview:function(){var t=this.imageData,e=this.canvasData,i=this.cropBoxData,n=i.width,r=i.height,o=t.width,a=t.height,s=i.left-e.left-t.left,h=i.top-e.top-t.top;this.cropped&&!this.disabled&&(ta(this.viewBoxImage,ti({width:o,height:a},tE(ti({translateX:-s,translateY:-h},t)))),te(this.previews,function(e){var i=tl(e,B),c=i.width,u=i.height,f=c,l=u,A=1;n&&(l=r*(A=c/n)),r&&l>u&&(f=n*(A=u/r),l=u),ta(e,{width:f,height:l}),ta(e.getElementsByTagName("img")[0],ti({width:o*A,height:a*A},tE(ti({translateX:-s*A,translateY:-h*A},t))))}))}},{bind:function(){var t=this.element,e=this.options,i=this.cropper;V(e.cropstart)&&tm(t,D,e.cropstart),V(e.cropmove)&&tm(t,M,e.cropmove),V(e.cropend)&&tm(t,_,e.cropend),V(e.crop)&&tm(t,Q,e.crop),V(e.zoom)&&tm(t,H,e.zoom),tm(i,k,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&tm(i,L,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&tm(i,O,this.onDblclick=this.dblclick.bind(this)),tm(t.ownerDocument,T,this.onCropMove=this.cropMove.bind(this)),tm(t.ownerDocument,S,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&tm(window,R,this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,e=this.options,i=this.cropper;V(e.cropstart)&&tg(t,D,e.cropstart),V(e.cropmove)&&tg(t,M,e.cropmove),V(e.cropend)&&tg(t,_,e.cropend),V(e.crop)&&tg(t,Q,e.crop),V(e.zoom)&&tg(t,H,e.zoom),tg(i,k,this.onCropStart),e.zoomable&&e.zoomOnWheel&&tg(i,L,this.onWheel,{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&tg(i,O,this.onDblclick),tg(t.ownerDocument,T,this.onCropMove),tg(t.ownerDocument,S,this.onCropEnd),e.responsive&&tg(window,R,this.onResize)}},{resize:function(){if(!this.disabled){var t,e,i=this.options,n=this.container,r=this.containerData,o=n.offsetWidth/r.width,a=n.offsetHeight/r.height,s=Math.abs(o-1)>Math.abs(a-1)?o:a;1!==s&&(i.restore&&(t=this.getCanvasData(),e=this.getCropBoxData()),this.render(),i.restore&&(this.setCanvasData(te(t,function(e,i){t[i]=e*s})),this.setCropBoxData(te(e,function(t,i){e[i]=t*s}))))}},dblclick:function(){var t,e;!this.disabled&&this.options.dragMode!==x&&this.setDragMode(((t=this.dragBox).classList?t.classList.contains(d):t.className.indexOf(d)>-1)?C:E)},wheel:function(t){var e=this,i=Number(this.options.wheelZoomRatio)||.1,n=1;if(!this.disabled)t.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){e.wheeling=!1},50),t.deltaY?n=t.deltaY>0?1:-1:t.wheelDelta?n=-t.wheelDelta/120:t.detail&&(n=t.detail>0?1:-1),this.zoom(-n*i,t))},cropStart:function(t){var e,i=t.buttons,n=t.button;if(!(this.disabled||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(F(i)&&1!==i||F(n)&&0!==n||t.ctrlKey))){var r=this.options,o=this.pointers;t.changedTouches?te(t.changedTouches,function(t){o[t.identifier]=tC(t)}):o[t.pointerId||0]=tC(t),e=Object.keys(o).length>1&&r.zoomable&&r.zoomOnTouch?p:tl(t.target,I),P.test(e)&&!1!==tv(this.element,D,{originalEvent:t,action:e})&&(t.preventDefault(),this.action=e,this.cropping=!1,e===l&&(this.cropping=!0,ts(this.dragBox,w)))}},cropMove:function(t){var e=this.action;if(!this.disabled&&e){var i=this.pointers;t.preventDefault(),!1!==tv(this.element,M,{originalEvent:t,action:e})&&(t.changedTouches?te(t.changedTouches,function(t){ti(i[t.identifier]||{},tC(t,!0))}):ti(i[t.pointerId||0]||{},tC(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var e=this.action,i=this.pointers;t.changedTouches?te(t.changedTouches,function(t){delete i[t.identifier]}):delete i[t.pointerId||0],e&&(t.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,tc(this.dragBox,w,this.cropped&&this.options.modal)),tv(this.element,_,{originalEvent:t,action:e}))}}},{change:function(t){var i,n,r,o,a=this.options,s=this.canvasData,h=this.containerData,c=this.cropBoxData,u=this.pointers,f=this.action,d=a.aspectRatio,g=c.left,v=c.top,y=c.width,w=c.height,b=g+y,I=v+w,B=0,E=0,C=h.width,x=h.height,Q=!0;!d&&t.shiftKey&&(d=y&&w?y/w:1),this.limited&&(B=c.minLeft,E=c.minTop,C=B+Math.min(h.width,s.width,s.left+s.width),x=E+Math.min(h.height,s.height,s.top+s.height));var _=u[Object.keys(u)[0]],M={x:_.endX-_.startX,y:_.endY-_.startY},D=function(t){switch(t){case"e":b+M.x>C&&(M.x=C-b);break;case"w":g+M.x<B&&(M.x=B-g);break;case"n":v+M.y<E&&(M.y=E-v);break;case"s":I+M.y>x&&(M.y=x-I)}};switch(f){case"all":g+=M.x,v+=M.y;break;case"e":if(M.x>=0&&(b>=C||d&&(v<=E||I>=x))){Q=!1;break}D("e"),(y+=M.x)<0&&(f="w",g-=y=-y),d&&(w=y/d,v+=(c.height-w)/2);break;case"n":if(M.y<=0&&(v<=E||d&&(g<=B||b>=C))){Q=!1;break}D("n"),w-=M.y,v+=M.y,w<0&&(f="s",v-=w=-w),d&&(y=w*d,g+=(c.width-y)/2);break;case"w":if(M.x<=0&&(g<=B||d&&(v<=E||I>=x))){Q=!1;break}D("w"),y-=M.x,g+=M.x,y<0&&(f="e",g-=y=-y),d&&(w=y/d,v+=(c.height-w)/2);break;case"s":if(M.y>=0&&(I>=x||d&&(g<=B||b>=C))){Q=!1;break}D("s"),(w+=M.y)<0&&(f="n",v-=w=-w),d&&(y=w*d,g+=(c.width-y)/2);break;case"ne":if(d){if(M.y<=0&&(v<=E||b>=C)){Q=!1;break}D("n"),w-=M.y,v+=M.y,y=w*d}else D("n"),D("e"),M.x>=0?b<C?y+=M.x:M.y<=0&&v<=E&&(Q=!1):y+=M.x,M.y<=0?v>E&&(w-=M.y,v+=M.y):(w-=M.y,v+=M.y);y<0&&w<0?(f="sw",y=-y,v-=w=-w,g-=y):y<0?(f="nw",g-=y=-y):w<0&&(f="se",v-=w=-w);break;case"nw":if(d){if(M.y<=0&&(v<=E||g<=B)){Q=!1;break}D("n"),w-=M.y,v+=M.y,y=w*d,g+=c.width-y}else D("n"),D("w"),M.x<=0?g>B?(y-=M.x,g+=M.x):M.y<=0&&v<=E&&(Q=!1):(y-=M.x,g+=M.x),M.y<=0?v>E&&(w-=M.y,v+=M.y):(w-=M.y,v+=M.y);y<0&&w<0?(f="se",y=-y,v-=w=-w,g-=y):y<0?(f="ne",g-=y=-y):w<0&&(f="sw",v-=w=-w);break;case"sw":if(d){if(M.x<=0&&(g<=B||I>=x)){Q=!1;break}D("w"),y-=M.x,g+=M.x,w=y/d}else D("s"),D("w"),M.x<=0?g>B?(y-=M.x,g+=M.x):M.y>=0&&I>=x&&(Q=!1):(y-=M.x,g+=M.x),M.y>=0?I<x&&(w+=M.y):w+=M.y;y<0&&w<0?(f="ne",y=-y,v-=w=-w,g-=y):y<0?(f="se",g-=y=-y):w<0&&(f="nw",v-=w=-w);break;case"se":if(d){if(M.x>=0&&(b>=C||I>=x)){Q=!1;break}D("e"),y+=M.x,w=y/d}else D("s"),D("e"),M.x>=0?b<C?y+=M.x:M.y>=0&&I>=x&&(Q=!1):y+=M.x,M.y>=0?I<x&&(w+=M.y):w+=M.y;y<0&&w<0?(f="nw",y=-y,v-=w=-w,g-=y):y<0?(f="sw",g-=y=-y):w<0&&(f="ne",v-=w=-w);break;case A:this.move(M.x,M.y),Q=!1;break;case p:this.zoom((n=e({},u),r=0,te(u,function(t,e){delete n[e],te(n,function(e){var i=Math.abs(t.startX-e.startX),n=Math.abs(t.startY-e.startY),o=Math.abs(t.endX-e.endX),a=Math.abs(t.endY-e.endY),s=Math.sqrt(i*i+n*n),h=(Math.sqrt(o*o+a*a)-s)/s;Math.abs(h)>Math.abs(r)&&(r=h)})}),r),t),Q=!1;break;case l:if(!M.x||!M.y){Q=!1;break}o=ty(this.cropper),g=_.startX-o.left,v=_.startY-o.top,y=c.minWidth,w=c.minHeight,M.x>0?f=M.y>0?"se":"ne":M.x<0&&(g-=y,f=M.y>0?"sw":"nw"),M.y<0&&(v-=w),!this.cropped&&(th(this.cropBox,m),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}Q&&(c.width=y,c.height=w,c.left=g,c.top=v,this.action=f,this.renderCropBox()),te(u,function(t){t.startX=t.endX,t.startY=t.endY})}},{crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&ts(this.dragBox,w),th(this.cropBox,m),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=ti({},this.initialImageData),this.canvasData=ti({},this.initialCanvasData),this.cropBoxData=ti({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(ti(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),th(this.dragBox,w),ts(this.cropBox,m)),this},replace:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),e?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,te(this.previews,function(e){e.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,th(this.cropper,g)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,ts(this.cropper,g)),this},destroy:function(){var t=this.element;return t[f]&&(t[f]=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate()),this},move:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,n=i.left,r=i.top;return this.moveTo(X(t)?t:n+Number(t),X(e)?e:r+Number(e))},moveTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,n=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(F(t)&&(i.left=t,n=!0),F(e)&&(i.top=e,n=!0),n&&this.renderCanvas(!0)),this},zoom:function(t,e){var i=this.canvasData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(i.width*t/i.naturalWidth,null,e)},zoomTo:function(t,e,i){var n=this.options,r=this.canvasData,o=r.width,a=r.height,s=r.naturalWidth,h=r.naturalHeight;if((t=Number(t))>=0&&this.ready&&!this.disabled&&n.zoomable){var c=s*t,u=h*t;if(!1===tv(this.element,H,{ratio:t,oldRatio:o/s,originalEvent:i}))return this;if(i){var f,l,A,p,d=this.pointers,g=ty(this.cropper),m=d&&Object.keys(d).length?(l=0,A=0,p=0,te(d,function(t){var e=t.startX,i=t.startY;l+=e,A+=i,p+=1}),{pageX:l/=p,pageY:A/=p}):{pageX:i.pageX,pageY:i.pageY};r.left-=(c-o)*((m.pageX-g.left-r.left)/o),r.top-=(u-a)*((m.pageY-g.top-r.top)/a)}else Z(e)&&F(e.x)&&F(e.y)?(r.left-=(c-o)*((e.x-r.left)/o),r.top-=(u-a)*((e.y-r.top)/a)):(r.left-=(c-o)/2,r.top-=(u-a)/2);r.width=c,r.height=u,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return F(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var e=this.imageData.scaleY;return this.scale(t,F(e)?e:1)},scaleY:function(t){var e=this.imageData.scaleX;return this.scale(F(e)?e:1,t)},scale:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.imageData,n=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(F(t)&&(i.scaleX=t,n=!0),F(e)&&(i.scaleY=e,n=!0),n&&this.renderCanvas(!0,!0)),this},getData:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.options,n=this.imageData,r=this.canvasData,o=this.cropBoxData;if(this.ready&&this.cropped){t={x:o.left-r.left,y:o.top-r.top,width:o.width,height:o.height};var a=n.width/n.naturalWidth;if(te(t,function(e,i){t[i]=e/a}),e){var s=Math.round(t.y+t.height),h=Math.round(t.x+t.width);t.x=Math.round(t.x),t.y=Math.round(t.y),t.width=h-t.x,t.height=s-t.y}}else t={x:0,y:0,width:0,height:0};return i.rotatable&&(t.rotate=n.rotate||0),i.scalable&&(t.scaleX=n.scaleX||1,t.scaleY=n.scaleY||1),t},setData:function(t){var e=this.options,i=this.imageData,n=this.canvasData,r={};if(this.ready&&!this.disabled&&Z(t)){var o=!1;e.rotatable&&F(t.rotate)&&t.rotate!==i.rotate&&(i.rotate=t.rotate,o=!0),e.scalable&&(F(t.scaleX)&&t.scaleX!==i.scaleX&&(i.scaleX=t.scaleX,o=!0),F(t.scaleY)&&t.scaleY!==i.scaleY&&(i.scaleY=t.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var a=i.width/i.naturalWidth;F(t.x)&&(r.left=t.x*a+n.left),F(t.y)&&(r.top=t.y*a+n.top),F(t.width)&&(r.width=t.width*a),F(t.height)&&(r.height=t.height*a),this.setCropBoxData(r)}return this},getContainerData:function(){return this.ready?ti({},this.containerData):{}},getImageData:function(){return this.sized?ti({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,e={};return this.ready&&te(["left","top","width","height","naturalWidth","naturalHeight"],function(i){e[i]=t[i]}),e},setCanvasData:function(t){var e=this.canvasData,i=e.aspectRatio;return this.ready&&!this.disabled&&Z(t)&&(F(t.left)&&(e.left=t.left),F(t.top)&&(e.top=t.top),F(t.width)?(e.width=t.width,e.height=t.width/i):F(t.height)&&(e.height=t.height,e.width=t.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var t,e=this.cropBoxData;return this.ready&&this.cropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCropBoxData:function(t){var e,i,n=this.cropBoxData,r=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&Z(t)&&(F(t.left)&&(n.left=t.left),F(t.top)&&(n.top=t.top),F(t.width)&&t.width!==n.width&&(e=!0,n.width=t.width),F(t.height)&&t.height!==n.height&&(i=!0,n.height=t.height),r&&(e?n.height=n.width/r:i&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var t,e,i,n,r,a,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var h,c,u,f,l,A,p,d,g,m,v,y,w,b,I,B,E,C,x,Q,_,M,D,O,k,T,S,j,R,L,H,U,P,W,N=this.canvasData,G=(h=this.image,l=(c=this.imageData).aspectRatio,A=c.naturalWidth,p=c.naturalHeight,d=c.rotate,g=c.scaleX,m=c.scaleY,v=N.aspectRatio,y=N.naturalWidth,w=N.naturalHeight,b=s.fillColor,I=s.imageSmoothingEnabled,B=s.imageSmoothingQuality,C=void 0===(E=s.maxWidth)?1/0:E,Q=void 0===(x=s.maxHeight)?1/0:x,M=void 0===(_=s.minWidth)?0:_,O=void 0===(D=s.minHeight)?0:D,T=(k=document.createElement("canvas")).getContext("2d"),S=tx({aspectRatio:v,width:C,height:Q}),j=tx({aspectRatio:v,width:M,height:O},"cover"),R=Math.min(S.width,Math.max(j.width,y)),L=Math.min(S.height,Math.max(j.height,w)),H=tx({aspectRatio:l,width:C,height:Q}),U=tx({aspectRatio:l,width:M,height:O},"cover"),P=Math.min(H.width,Math.max(U.width,A)),W=Math.min(H.height,Math.max(U.height,p)),k.width=tr(R),k.height=tr(L),T.fillStyle=void 0===b?"transparent":b,T.fillRect(0,0,R,L),T.save(),T.translate(R/2,L/2),T.rotate((void 0===d?0:d)*Math.PI/180),T.scale(void 0===g?1:g,void 0===m?1:m),T.imageSmoothingEnabled=void 0===I||I,T.imageSmoothingQuality=void 0===B?"low":B,T.drawImage.apply(T,[h].concat(o([-P/2,-W/2,P,W].map(function(t){return Math.floor(tr(t))})))),T.restore(),k);if(!this.cropped)return G;var Y=this.getData(),z=Y.x,F=Y.y,q=Y.width,X=Y.height,J=G.width/Math.floor(N.naturalWidth);1!==J&&(z*=J,F*=J,q*=J,X*=J);var K=q/X,Z=tx({aspectRatio:K,width:s.maxWidth||1/0,height:s.maxHeight||1/0}),V=tx({aspectRatio:K,width:s.minWidth||0,height:s.minHeight||0},"cover"),$=tx({aspectRatio:K,width:s.width||(1!==J?G.width:q),height:s.height||(1!==J?G.height:X)}),tt=$.width,te=$.height;tt=Math.min(Z.width,Math.max(V.width,tt)),te=Math.min(Z.height,Math.max(V.height,te));var ti=document.createElement("canvas"),tn=ti.getContext("2d");ti.width=tr(tt),ti.height=tr(te),tn.fillStyle=s.fillColor||"transparent",tn.fillRect(0,0,tt,te);var to=s.imageSmoothingEnabled,ta=s.imageSmoothingQuality;tn.imageSmoothingEnabled=void 0===to||to,ta&&(tn.imageSmoothingQuality=ta);var ts=G.width,th=G.height,tc=z,tu=F;tc<=-q||tc>ts?(tc=0,t=0,i=0,r=0):tc<=0?(i=-tc,r=t=Math.min(ts,q+(tc=0))):tc<=ts&&(i=0,r=t=Math.min(q,ts-tc)),t<=0||tu<=-X||tu>th?(tu=0,e=0,n=0,a=0):tu<=0?(n=-tu,a=e=Math.min(th,X+(tu=0))):tu<=th&&(n=0,a=e=Math.min(X,th-tu));var tf=[tc,tu,t,e];if(r>0&&a>0){var tl=tt/q;tf.push(i*tl,n*tl,r*tl,a*tl)}return tn.drawImage.apply(tn,[G].concat(o(tf.map(function(t){return Math.floor(tr(t))})))),ti},setAspectRatio:function(t){var e=this.options;return!this.disabled&&!X(t)&&(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var e=this.options,i=this.dragBox,n=this.face;if(this.ready&&!this.disabled){var r=t===E,o=e.movable&&t===C;t=r||o?t:x,e.dragMode=t,tA(i,I,t),tc(i,d,r),tc(i,b,o),e.cropBoxMovable||(tA(n,I,t),tc(n,d,r),tc(n,b,o))}return this}}),tD},t.exports=e()},3454:function(t,e,i){"use strict";var n,r;t.exports=(null==(n=i.g.process)?void 0:n.env)&&"object"==typeof(null==(r=i.g.process)?void 0:r.env)?i.g.process:i(7663)},3234:function(){},7663:function(t){!function(){var e={229:function(t){var e,i,n,r=t.exports={};function o(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(i){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:o}catch(t){e=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(n){i=a}}();var h=[],c=!1,u=-1;function f(){c&&n&&(c=!1,n.length?h=n.concat(h):u=-1,h.length&&l())}function l(){if(!c){var t=s(f);c=!0;for(var e=h.length;e;){for(n=h,h=[];++u<e;)n&&n[u].run();u=-1,e=h.length}n=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(n){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function A(t,e){this.fun=t,this.array=e}function p(){}r.nextTick=function(t){var e=Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];h.push(new A(t,e)),1!==h.length||c||s(l)},A.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(t){return[]},r.binding=function(t){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw Error("process.chdir is not supported")},r.umask=function(){return 0}}},i={};function n(t){var r=i[t];if(void 0!==r)return r.exports;var o=i[t]={exports:{}},a=!0;try{e[t](o,o.exports,n),a=!1}finally{a&&delete i[t]}return o.exports}n.ab="//";var r=n(229);t.exports=r}()},226:function(t,e,i){"use strict";i.r(e),i.d(e,{InferenceSession:function(){return g},Tensor:function(){return p},env:function(){return s},registerBackend:function(){return o}});let n={},r=[],o=(t,e,i)=>{if(e&&"function"==typeof e.init&&"function"==typeof e.createSessionHandler){let o=n[t];if(void 0===o)n[t]={backend:e,priority:i};else if(o.backend===e)return;else throw Error(`backend "${t}" is already registered`);if(i>=0){for(let a=0;a<r.length;a++)if(n[r[a]].priority<=i){r.splice(a,0,t);return}r.push(t)}return}throw TypeError("not a valid backend")},a=async t=>{let e=0===t.length?r:t,i=[];for(let o of e){let a=n[o];if(a){if(a.initialized)return a.backend;if(a.aborted)continue;let s=!!a.initPromise;try{return s||(a.initPromise=a.backend.init()),await a.initPromise,a.initialized=!0,a.backend}catch(h){s||i.push({name:o,err:h}),a.aborted=!0}finally{delete a.initPromise}}}throw Error(`no available backend found. ERR: ${i.map(t=>`[${t.name}] ${t.err}`).join(", ")}`)},s=new class{constructor(){this.wasm={},this.webgl={},this.logLevelInternal="warning"}set logLevel(t){if(void 0!==t){if("string"!=typeof t||-1===["verbose","info","warning","error","fatal"].indexOf(t))throw Error(`Unsupported logging level: ${t}`);this.logLevelInternal=t}}get logLevel(){return this.logLevelInternal}},h="undefined"!=typeof BigInt64Array&&"function"==typeof BigInt64Array.from,c="undefined"!=typeof BigUint64Array&&"function"==typeof BigUint64Array.from,u=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array],]),f=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"],]);h&&(u.set("int64",BigInt64Array),f.set(BigInt64Array,"int64")),c&&(u.set("uint64",BigUint64Array),f.set(BigUint64Array,"uint64"));let l=t=>{let e=1;for(let i=0;i<t.length;i++){let n=t[i];if("number"!=typeof n||!Number.isSafeInteger(n))throw TypeError(`dims[${i}] must be an integer, got: ${n}`);if(n<0)throw RangeError(`dims[${i}] must be a non-negative integer, got: ${n}`);e*=n}return e};class A{constructor(t,e,i){let n,r,o;if("string"==typeof t){if(n=t,o=i,"string"===t){if(!Array.isArray(e))throw TypeError("A string tensor's data must be a string array.");r=e}else{let a=u.get(t);if(void 0===a)throw TypeError(`Unsupported tensor type: ${t}.`);if(Array.isArray(e))r=a.from(e);else if(e instanceof a)r=e;else throw TypeError(`A ${n} tensor's data must be type of ${a}`)}}else if(o=e,Array.isArray(t)){if(0===t.length)throw TypeError("Tensor type cannot be inferred from an empty array.");let s=typeof t[0];if("string"===s)n="string",r=t;else if("boolean"===s)n="bool",r=Uint8Array.from(t);else throw TypeError(`Invalid element type of data array: ${s}.`)}else{let h=f.get(t.constructor);if(void 0===h)throw TypeError(`Unsupported type for tensor data: ${t.constructor}.`);n=h,r=t}if(void 0===o)o=[r.length];else if(!Array.isArray(o))throw TypeError("A tensor's dims must be a number array");let c=l(o);if(c!==r.length)throw Error(`Tensor's size(${c}) does not match data length(${r.length}).`);this.dims=o,this.type=n,this.data=r,this.size=c}reshape(t){return new A(this.type,this.data,t)}}let p=A;class d{constructor(t){this.handler=t}async run(t,e,i){let n={},r={};if("object"!=typeof t||null===t||t instanceof p||Array.isArray(t))throw TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let o=!0;if("object"==typeof e){if(null===e)throw TypeError("Unexpected argument[1]: cannot be null.");if(e instanceof p)throw TypeError("'fetches' cannot be a Tensor");if(Array.isArray(e)){if(0===e.length)throw TypeError("'fetches' cannot be an empty array.");for(let a of(o=!1,e)){if("string"!=typeof a)throw TypeError("'fetches' must be a string array or an object.");if(-1===this.outputNames.indexOf(a))throw RangeError(`'fetches' contains invalid output name: ${a}.`);n[a]=null}if("object"==typeof i&&null!==i)r=i;else if(void 0!==i)throw TypeError("'options' must be an object.")}else{let s=!1,h=Object.getOwnPropertyNames(e);for(let c of this.outputNames)if(-1!==h.indexOf(c)){let u=e[c];(null===u||u instanceof p)&&(s=!0,o=!1,n[c]=u)}if(s){if("object"==typeof i&&null!==i)r=i;else if(void 0!==i)throw TypeError("'options' must be an object.")}else r=e}}else if(void 0!==e)throw TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let f of this.inputNames)if(void 0===t[f])throw Error(`input '${f}' is missing in 'feeds'.`);if(o)for(let l of this.outputNames)n[l]=null;let A=await this.handler.run(t,n,r),d={};for(let g in A)Object.hasOwnProperty.call(A,g)&&(d[g]=new p(A[g].type,A[g].data,A[g].dims));return d}static async create(t,e,i,n){let r,o={};if("string"==typeof t){if(r=t,"object"==typeof e&&null!==e)o=e;else if(void 0!==e)throw TypeError("'options' must be an object.")}else if(t instanceof Uint8Array){if(r=t,"object"==typeof e&&null!==e)o=e;else if(void 0!==e)throw TypeError("'options' must be an object.")}else if(t instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&t instanceof SharedArrayBuffer){let s=0,h=t.byteLength;if("object"==typeof e&&null!==e)o=e;else if("number"==typeof e){if(!Number.isSafeInteger(s=e))throw RangeError("'byteOffset' must be an integer.");if(s<0||s>=t.byteLength)throw RangeError(`'byteOffset' is out of range [0, ${t.byteLength}).`);if(h=t.byteLength-s,"number"==typeof i){if(!Number.isSafeInteger(h=i))throw RangeError("'byteLength' must be an integer.");if(h<=0||s+h>t.byteLength)throw RangeError(`'byteLength' is out of range (0, ${t.byteLength-s}].`);if("object"==typeof n&&null!==n)o=n;else if(void 0!==n)throw TypeError("'options' must be an object.")}else if(void 0!==i)throw TypeError("'byteLength' must be a number.")}else if(void 0!==e)throw TypeError("'options' must be an object.");r=new Uint8Array(t,s,h)}else throw TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let c=o.executionProviders||[],u=c.map(t=>"string"==typeof t?t:t.name),f=await a(u),l=await f.createSessionHandler(r,o);return new d(l)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}let g=d},6373:function(t){var e;e=function(){return(function(){function t(e,i,n){function r(a,s){if(!i[a]){if(!e[a]){if(o)return o(a,!0);var h=Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[a]={exports:{}};e[a][0].call(c.exports,function(t){return r(e[a][1][t]||t)},c,c.exports,t,e,i,n)}return i[a].exports}for(var o=void 0,a=0;a<n.length;a++)r(n[a]);return r}return t})()({1:[function(t,e,i){"use strict";var n=t("multimath"),r=t("./mm_unsharp_mask"),o=t("./mm_resize");function a(t){var e=t||[],i={js:e.indexOf("js")>=0,wasm:e.indexOf("wasm")>=0};n.call(this,i),this.features={js:i.js,wasm:i.wasm&&this.has_wasm()},this.use(r),this.use(o)}a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.prototype.resizeAndUnsharp=function(t,e){var i=this.resize(t,e);return t.unsharpAmount&&this.unsharp_mask(i,t.toWidth,t.toHeight,t.unsharpAmount,t.unsharpRadius,t.unsharpThreshold),i},e.exports=a},{"./mm_resize":4,"./mm_unsharp_mask":9,multimath:19}],2:[function(t,e,i){"use strict";function n(t){return t<0?0:t>255?255:t}function r(t){return t>=0?t:0}e.exports={convolveHor:function(t,e,i,n,o,a){var s,h,c,u,f,l,A,p,d,g,m,v=0,y=0;for(d=0;d<n;d++){for(g=0,f=0;g<o;g++){for(l=a[f++],A=a[f++],p=v+4*l|0,s=h=c=u=0;A>0;A--)u=u+(m=a[f++])*t[p+3]|0,c=c+m*t[p+2]|0,h=h+m*t[p+1]|0,s=s+m*t[p]|0,p=p+4|0;e[y+3]=r(u>>7),e[y+2]=r(c>>7),e[y+1]=r(h>>7),e[y]=r(s>>7),y=y+4*n|0}y=(d+1)*4|0,v=(d+1)*i*4|0}},convolveVert:function(t,e,i,r,o,a){var s,h,c,u,f,l,A,p,d,g,m,v=0,y=0;for(d=0;d<r;d++){for(g=0,f=0;g<o;g++){for(l=a[f++],A=a[f++],p=v+4*l|0,s=h=c=u=0;A>0;A--)u=u+(m=a[f++])*t[p+3]|0,c=c+m*t[p+2]|0,h=h+m*t[p+1]|0,s=s+m*t[p]|0,p=p+4|0;s>>=7,h>>=7,c>>=7,u>>=7,e[y+3]=n(u+8192>>14),e[y+2]=n(c+8192>>14),e[y+1]=n(h+8192>>14),e[y]=n(s+8192>>14),y=y+4*r|0}y=(d+1)*4|0,v=(d+1)*i*4|0}},convolveHorWithPre:function(t,e,i,n,o,a){var s,h,c,u,f,l,A,p,d,g,m,v,y=0,w=0;for(g=0;g<n;g++){for(m=0,l=0;m<o;m++){for(A=a[l++],p=a[l++],d=y+4*A|0,s=h=c=u=0;p>0;p--)u=u+(v=a[l++])*(f=t[d+3])|0,c=c+v*t[d+2]*f|0,h=h+v*t[d+1]*f|0,s=s+v*t[d]*f|0,d=d+4|0;c=c/255|0,h=h/255|0,s=s/255|0,e[w+3]=r(u>>7),e[w+2]=r(c>>7),e[w+1]=r(h>>7),e[w]=r(s>>7),w=w+4*n|0}w=(g+1)*4|0,y=(g+1)*i*4|0}},convolveVertWithPre:function(t,e,i,r,o,a){var s,h,c,u,f,l,A,p,d,g,m,v=0,y=0;for(d=0;d<r;d++){for(g=0,f=0;g<o;g++){for(l=a[f++],A=a[f++],p=v+4*l|0,s=h=c=u=0;A>0;A--)u=u+(m=a[f++])*t[p+3]|0,c=c+m*t[p+2]|0,h=h+m*t[p+1]|0,s=s+m*t[p]|0,p=p+4|0;s>>=7,h>>=7,c>>=7,u>>=7,(u=n(u+8192>>14))>0&&(s=255*s/u|0,h=255*h/u|0,c=255*c/u|0),e[y+3]=u,e[y+2]=n(c+8192>>14),e[y+1]=n(h+8192>>14),e[y]=n(s+8192>>14),y=y+4*r|0}y=(d+1)*4|0,v=(d+1)*i*4|0}}}},{}],3:[function(t,e,i){"use strict";e.exports="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"},{}],4:[function(t,e,i){"use strict";e.exports={name:"resize",fn:t("./resize"),wasm_fn:t("./resize_wasm"),wasm_src:t("./convolve_wasm_base64")}},{"./convolve_wasm_base64":3,"./resize":5,"./resize_wasm":8}],5:[function(t,e,i){"use strict";var n=t("./resize_filter_gen"),r=t("./convolve"),o=r.convolveHor,a=r.convolveVert,s=r.convolveHorWithPre,h=r.convolveVertWithPre;e.exports=function(t){var e=t.src,i=t.width,r=t.height,c=t.toWidth,u=t.toHeight,f=t.scaleX||t.toWidth/t.width,l=t.scaleY||t.toHeight/t.height,A=t.offsetX||0,p=t.offsetY||0,d=t.dest||new Uint8Array(c*u*4),g=void 0===t.filter?"mks2013":t.filter,m=n(g,i,c,f,A),v=n(g,r,u,l,p),y=new Uint16Array(c*r*4);return function(t,e,i){for(var n=3,r=e*i*4|0;n<r;){if(255!==t[n])return!0;n=n+4|0}return!1}(e,i,r)?(s(e,y,i,r,c,m),h(y,d,r,c,u,v)):(o(e,y,i,r,c,m),a(y,d,r,c,u,v),function(t,e,i){for(var n=3,r=e*i*4|0;n<r;)t[n]=255,n=n+4|0}(d,c,u)),d}},{"./convolve":2,"./resize_filter_gen":6}],6:[function(t,e,i){"use strict";var n=t("./resize_filter_info");function r(t){return Math.round(16383*t)}e.exports=function(t,e,i,o,a){var s,h,c,u,f,l,A,p,d,g,m,v,y,w,b,I,B,E=n.filter[t].fn,C=1/o,x=Math.min(1,o),Q=n.filter[t].win/x,_=new Int16Array((Math.floor((Q+1)*2)+2)*i),M=0,D=!_.subarray||!_.set;for(s=0;s<i;s++){for(c=Math.max(0,Math.floor((h=(s+.5)*C+a)-Q)),f=(u=Math.min(e-1,Math.ceil(h+Q)))-c+1,l=new Float32Array(f),A=new Int16Array(f),p=0,d=c,g=0;d<=u;d++,g++)p+=m=E((d+.5-h)*x),l[g]=m;for(g=0,v=0;g<l.length;g++)v+=y=l[g]/p,A[g]=r(y);for(A[i>>1]+=r(1-v),w=0;w<A.length&&0===A[w];)w++;if(w<A.length){for(b=A.length-1;b>0&&0===A[b];)b--;if(I=c+w,B=b-w+1,_[M++]=I,_[M++]=B,D)for(g=w;g<=b;g++)_[M++]=A[g];else _.set(A.subarray(w,b+1),M),M+=B}else _[M++]=0,_[M++]=0}return _}},{"./resize_filter_info":7}],7:[function(t,e,i){"use strict";e.exports={filter:{box:{win:.5,fn:function(t){return t<0&&(t=-t),t<.5?1:0}},hamming:{win:1,fn:function(t){if(t<0&&(t=-t),t>=1)return 0;if(t<11920929e-14)return 1;var e=t*Math.PI;return Math.sin(e)/e*(.54+.46*Math.cos(e/1))}},lanczos2:{win:2,fn:function(t){if(t<0&&(t=-t),t>=2)return 0;if(t<11920929e-14)return 1;var e=t*Math.PI;return Math.sin(e)/e*Math.sin(e/2)/(e/2)}},lanczos3:{win:3,fn:function(t){if(t<0&&(t=-t),t>=3)return 0;if(t<11920929e-14)return 1;var e=t*Math.PI;return Math.sin(e)/e*Math.sin(e/3)/(e/3)}},mks2013:{win:2.5,fn:function(t){return(t<0&&(t=-t),t>=2.5)?0:t>=1.5?-.125*(t-2.5)*(t-2.5):t>=.5?.25*(4*t*t-11*t+7):1.0625-1.75*t*t}}},f2q:{box:0,hamming:1,lanczos2:2,lanczos3:3},q2f:["box","hamming","lanczos2","lanczos3"]}},{}],8:[function(t,e,i){"use strict";var n=t("./resize_filter_gen"),r=!0;try{r=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]}catch(o){}function a(t,e,i){if(r){var n;e.set(new Uint8Array(t.buffer,0,t.byteLength),i);return}for(var o=i,a=0;a<t.length;a++){var s=t[a];e[o++]=255&s,e[o++]=s>>8&255}}e.exports=function(t){var e=t.src,i=t.width,r=t.height,o=t.toWidth,s=t.toHeight,h=t.scaleX||t.toWidth/t.width,c=t.scaleY||t.toHeight/t.height,u=t.offsetX||0,f=t.offsetY||0,l=t.dest||new Uint8Array(o*s*4),A=void 0===t.filter?"mks2013":t.filter,p=n(A,i,o,h,u),d=n(A,r,s,c,f),g=Math.max(e.byteLength,l.byteLength),m=this.__align(0+g),v=this.__align(m+r*o*8),y=this.__align(v+p.byteLength),w=y+d.byteLength,b=this.__instance("resize",w),I=new Uint8Array(this.__memory.buffer),B=new Uint32Array(this.__memory.buffer),E=new Uint32Array(e.buffer);B.set(E),a(p,I,v),a(d,I,y);var C=b.exports.convolveHV||b.exports._convolveHV;return function(t,e,i){for(var n=3,r=e*i*4|0;n<r;){if(255!==t[n])return!0;n=n+4|0}return!1}(e,i,r)?C(v,y,m,i,r,o,s,1):(C(v,y,m,i,r,o,s,0),function(t,e,i){for(var n=3,r=e*i*4|0;n<r;)t[n]=255,n=n+4|0}(l,o,s)),new Uint32Array(l.buffer).set(new Uint32Array(this.__memory.buffer,0,s*o)),l}},{"./resize_filter_gen":6}],9:[function(t,e,i){"use strict";e.exports={name:"unsharp_mask",fn:t("./unsharp_mask"),wasm_fn:t("./unsharp_mask_wasm"),wasm_src:t("./unsharp_mask_wasm_base64")}},{"./unsharp_mask":10,"./unsharp_mask_wasm":11,"./unsharp_mask_wasm_base64":12}],10:[function(t,e,i){"use strict";var n=t("glur/mono16");e.exports=function(t,e,i,r,o,a){if(0!==r&&!(o<.5)){o>2&&(o=2);var s,h,c,u,f,l=function(t,e,i){for(var n,r,o,a,s=e*i,h=new Uint16Array(s),c=0;c<s;c++)n=t[4*c],r=t[4*c+1],o=t[4*c+2],a=n>=r&&n>=o?n:r>=o&&r>=n?r:o,h[c]=a<<8;return h}(t,e,i),A=new Uint16Array(l);n(A,e,i,o);for(var p=r/100*4096+.5|0,d=a<<8,g=e*i,m=0;m<g;m++)Math.abs(u=(s=l[m])-A[m])>=d&&(c=((h=(h=(h=s+(p*u+2048>>12))>65280?65280:h)<0?0:h)<<12)/(s=0!==s?s:1)|0,t[f=4*m]=t[f]*c+2048>>12,t[f+1]=t[f+1]*c+2048>>12,t[f+2]=t[f+2]*c+2048>>12)}}},{"glur/mono16":18}],11:[function(t,e,i){"use strict";e.exports=function(t,e,i,n,r,o){if(0!==n&&!(r<.5)){r>2&&(r=2);var a=e*i,s=4*a,h=2*a,c=2*a,u=4*Math.max(e,i),f=s+h,l=f+c,A=l+c,p=this.__instance("unsharp_mask",s+h+2*c+u+32,{exp:Math.exp}),d=new Uint32Array(t.buffer);new Uint32Array(this.__memory.buffer).set(d);var g=p.exports.hsv_v16||p.exports._hsv_v16;g(0,s,e,i),(g=p.exports.blurMono16||p.exports._blurMono16)(s,f,l,A,A+u,e,i,r),(g=p.exports.unsharp||p.exports._unsharp)(0,0,s,f,e,i,n,o),d.set(new Uint32Array(this.__memory.buffer,0,a))}}},{}],12:[function(t,e,i){"use strict";e.exports="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"},{}],13:[function(t,e,i){"use strict";function n(t,e){this.create=t,this.available=[],this.acquired={},this.lastId=1,this.timeoutId=0,this.idle=e||2e3}n.prototype.acquire=function(){var t,e=this;return 0!==this.available.length?t=this.available.pop():((t=this.create()).id=this.lastId++,t.release=function(){return e.release(t)}),this.acquired[t.id]=t,t},n.prototype.release=function(t){var e=this;delete this.acquired[t.id],t.lastUsed=Date.now(),this.available.push(t),0===this.timeoutId&&(this.timeoutId=setTimeout(function(){return e.gc()},100))},n.prototype.gc=function(){var t=this,e=Date.now();this.available=this.available.filter(function(i){return!(e-i.lastUsed>t.idle)||(i.destroy(),!1)}),0!==this.available.length?this.timeoutId=setTimeout(function(){return t.gc()},100):this.timeoutId=0},e.exports=n},{}],14:[function(t,e,i){"use strict";e.exports=function(t,e,i,n,r,o){var a=(2*o+2+1)/r;if(a>.5)return[[i,n]];var s=Math.ceil(Math.log(Math.min(i/t,n/e))/Math.log(a));if(s<=1)return[[i,n]];for(var h=[],c=0;c<s;c++){var u=Math.round(Math.pow(Math.pow(t,s-c-1)*Math.pow(i,c+1),1/s)),f=Math.round(Math.pow(Math.pow(e,s-c-1)*Math.pow(n,c+1),1/s));h.push([u,f])}return h}},{}],15:[function(t,e,i){"use strict";function n(t){var e=Math.round(t);return 1e-5>Math.abs(t-e)?e:Math.floor(t)}function r(t){var e=Math.round(t);return 1e-5>Math.abs(t-e)?e:Math.ceil(t)}e.exports=function(t){var e,i,o,a,s,h,c,u=t.toWidth/t.width,f=t.toHeight/t.height,l=n(t.srcTileSize*u)-2*t.destTileBorder,A=n(t.srcTileSize*f)-2*t.destTileBorder;if(l<1||A<1)throw Error("Internal error in pica: target tile width/height is too small.");var p=[];for(a=0;a<t.toHeight;a+=A)for(o=0;o<t.toWidth;o+=l)(e=o-t.destTileBorder)<0&&(e=0),s=o+l+t.destTileBorder-e,e+s>=t.toWidth&&(s=t.toWidth-e),(i=a-t.destTileBorder)<0&&(i=0),h=a+A+t.destTileBorder-i,i+h>=t.toHeight&&(h=t.toHeight-i),p.push(c={toX:e,toY:i,toWidth:s,toHeight:h,toInnerX:o,toInnerY:a,toInnerWidth:l,toInnerHeight:A,offsetX:e/u-n(e/u),offsetY:i/f-n(i/f),scaleX:u,scaleY:f,x:n(e/u),y:n(i/f),width:r(s/u),height:r(h/f)});return p}},{}],16:[function(t,e,i){"use strict";function n(t){return Object.prototype.toString.call(t)}e.exports.isCanvas=function(t){var e=n(t);return"[object HTMLCanvasElement]"===e||"[object OffscreenCanvas]"===e||"[object Canvas]"===e},e.exports.isImage=function(t){return"[object HTMLImageElement]"===n(t)},e.exports.isImageBitmap=function(t){return"[object ImageBitmap]"===n(t)},e.exports.limiter=function(t){var e=0,i=[];function n(){e<t&&i.length&&(e++,i.shift()())}return function(t){return new Promise(function(r,o){i.push(function(){t().then(function(t){r(t),e--,n()},function(t){o(t),e--,n()})}),n()})}},e.exports.cib_quality_name=function(t){switch(t){case 0:return"pixelated";case 1:return"low";case 2:return"medium"}return"high"},e.exports.cib_support=function(t){return Promise.resolve().then(function(){if("undefined"==typeof createImageBitmap)return!1;var e=t(100,100);return createImageBitmap(e,0,0,100,100,{resizeWidth:10,resizeHeight:10,resizeQuality:"high"}).then(function(t){var i=10===t.width;return t.close(),e=null,i})}).catch(function(){return!1})},e.exports.worker_offscreen_canvas_support=function(){return new Promise(function(t,e){if("undefined"==typeof OffscreenCanvas){t(!1);return}var i=btoa("(".concat((function(t){if("undefined"==typeof createImageBitmap){t.postMessage(!1);return}Promise.resolve().then(function(){var t=new OffscreenCanvas(10,10);return t.getContext("2d").rect(0,0,1,1),createImageBitmap(t,0,0,1,1)}).then(function(){return t.postMessage(!0)},function(){return t.postMessage(!1)})}).toString(),")(self);")),n=new Worker("data:text/javascript;base64,".concat(i));n.onmessage=function(e){return t(e.data)},n.onerror=e}).then(function(t){return t},function(){return!1})},e.exports.can_use_canvas=function(t){var e=!1;try{var i=t(2,1).getContext("2d"),n=i.createImageData(2,1);n.data[0]=12,n.data[1]=23,n.data[2]=34,n.data[3]=255,n.data[4]=45,n.data[5]=56,n.data[6]=67,n.data[7]=255,i.putImageData(n,0,0),n=null,n=i.getImageData(0,0,2,1),12===n.data[0]&&23===n.data[1]&&34===n.data[2]&&255===n.data[3]&&45===n.data[4]&&56===n.data[5]&&67===n.data[6]&&255===n.data[7]&&(e=!0)}catch(r){}return e},e.exports.cib_can_use_region=function(){return new Promise(function(t){if("undefined"==typeof Image||"undefined"==typeof createImageBitmap){t(!1);return}var e=new Image;e.src="data:image/jpeg;base64,/9j/4QBiRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAYAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAABIAAAAAQAAAEgAAAAB/9sAQwAEAwMEAwMEBAMEBQQEBQYKBwYGBgYNCQoICg8NEBAPDQ8OERMYFBESFxIODxUcFRcZGRsbGxAUHR8dGh8YGhsa/9sAQwEEBQUGBQYMBwcMGhEPERoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoa/8IAEQgAAQACAwERAAIRAQMRAf/EABQAAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAF/P//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAQUCf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Bf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEABj8Cf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8hf//aAAwDAQACAAMAAAAQH//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8Qf//Z",e.onload=function(){createImageBitmap(e,0,0,e.width,e.height).then(function(i){i.width===e.width&&i.height===e.height?t(!0):t(!1)},function(){return t(!1)})},e.onerror=function(){return t(!1)}})}},{}],17:[function(t,e,i){"use strict";e.exports=function(){var e,i=t("./mathlib");onmessage=function(t){var n=t.data.opts;if(!n.src&&n.srcBitmap){var r=new OffscreenCanvas(n.width,n.height),o=r.getContext("2d");o.drawImage(n.srcBitmap,0,0),n.src=o.getImageData(0,0,n.width,n.height).data,r.width=r.height=0,r=null,n.srcBitmap.close(),n.srcBitmap=null}e||(e=new i(t.data.features));var a=e.resizeAndUnsharp(n);postMessage({data:a},[a.buffer])}}},{"./mathlib":1}],18:[function(t,e,i){var n,r,o,a,s,h,c,u;function f(t,e,i,n,r,o){var a,s,h,c,u,f,l,A,p,d,g,m,v,y;for(p=0;p<o;p++){for(d=0,f=p*r,l=p,A=0,c=u=(a=t[f])*n[6],g=n[0],m=n[1],v=n[4],y=n[5];d<r;d++)h=(s=t[f])*g+a*m+c*v+u*y,u=c,c=h,a=s,i[A]=c,A++,f++;for(f--,A--,l+=o*(r-1),c=u=(a=t[f])*n[7],s=a,g=n[2],m=n[3],d=r-1;d>=0;d--)h=s*g+a*m+c*v+u*y,u=c,c=h,a=s,s=t[f],e[l]=i[A]+c,f--,A--,l-=o}}e.exports=function(t,e,i,l){if(l){var A,p,d,g,m,v=new Uint16Array(t.length),y=new Float32Array(Math.max(e,i)),w=((A=l)<.5&&(A=.5),d=Math.exp(-(p=Math.exp(.527076)/A)),g=Math.exp(-2*p),n=m=(1-d)*(1-d)/(1+2*p*d-g),r=m*(p-1)*d,o=m*(p+1)*d,a=-m*g,c=(n+r)/(1-(s=2*d)-(h=-g)),u=(o+a)/(1-s-h),new Float32Array([n,r,o,a,s,h,c,u]));f(t,v,y,w,e,i,l),f(v,t,y,w,i,e,l)}}},{}],19:[function(t,e,i){"use strict";var n=t("object-assign"),r=t("./lib/base64decode"),o=t("./lib/wa_detect"),a={js:!0,wasm:!0};function s(t){if(!(this instanceof s))return new s(t);var e=n({},a,t||{});if(this.options=e,this.__cache={},this.__init_promise=null,this.__modules=e.modules||{},this.__memory=null,this.__wasm={},this.__isLE=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0],!this.options.js&&!this.options.wasm)throw Error('mathlib: at least "js" or "wasm" should be enabled')}s.prototype.has_wasm=o,s.prototype.use=function(t){return this.__modules[t.name]=t,this.options.wasm&&this.has_wasm()&&t.wasm_fn?this[t.name]=t.wasm_fn:this[t.name]=t.fn,this},s.prototype.init=function(){if(this.__init_promise)return this.__init_promise;if(!this.options.js&&this.options.wasm&&!this.has_wasm())return Promise.reject(Error('mathlib: only "wasm" was enabled, but it\'s not supported'));var t=this;return this.__init_promise=Promise.all(Object.keys(t.__modules).map(function(e){var i=t.__modules[e];return t.options.wasm&&t.has_wasm()&&i.wasm_fn&&!t.__wasm[e]?WebAssembly.compile(t.__base64decode(i.wasm_src)).then(function(i){t.__wasm[e]=i}):null})).then(function(){return t}),this.__init_promise},s.prototype.__base64decode=r,s.prototype.__reallocate=function(t){if(!this.__memory)return this.__memory=new WebAssembly.Memory({initial:Math.ceil(t/65536)}),this.__memory;var e=this.__memory.buffer.byteLength;return e<t&&this.__memory.grow(Math.ceil((t-e)/65536)),this.__memory},s.prototype.__instance=function(t,e,i){if(e&&this.__reallocate(e),!this.__wasm[t]){var r=this.__modules[t];this.__wasm[t]=new WebAssembly.Module(this.__base64decode(r.wasm_src))}if(!this.__cache[t]){var o={memoryBase:0,memory:this.__memory,tableBase:0,table:new WebAssembly.Table({initial:0,element:"anyfunc"})};this.__cache[t]=new WebAssembly.Instance(this.__wasm[t],{env:n(o,i||{})})}return this.__cache[t]},s.prototype.__align=function(t,e){var i=t%(e=e||8);return t+(i?e-i:0)},e.exports=s},{"./lib/base64decode":20,"./lib/wa_detect":21,"object-assign":22}],20:[function(t,e,i){"use strict";e.exports=function(t){for(var e=t.replace(/[\r\n=]/g,""),i=e.length,n=new Uint8Array(3*i>>2),r=0,o=0,a=0;a<i;a++)a%4==0&&a&&(n[o++]=r>>16&255,n[o++]=r>>8&255,n[o++]=255&r),r=r<<6|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(a));var s=i%4*6;return 0===s?(n[o++]=r>>16&255,n[o++]=r>>8&255,n[o++]=255&r):18===s?(n[o++]=r>>10&255,n[o++]=r>>2&255):12===s&&(n[o++]=r>>4&255),n}},{}],21:[function(t,e,i){"use strict";var n;e.exports=function(){if(void 0!==n||(n=!1,"undefined"==typeof WebAssembly))return n;try{var t=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),e=new WebAssembly.Module(t),i=new WebAssembly.Instance(e,{});0!==i.exports.test(4)&&(n=!0)}catch(r){}return n}},{}],22:[function(t,e,i){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/ "use strict";var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=!function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;var n=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==n.join(""))return!1;var r={};if("abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},r)).join(""))return!1;return!0}catch(o){return!1}}()?function(t,e){for(var i,a,s=function(t){if(null==t)throw TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),h=1;h<arguments.length;h++){for(var c in i=Object(arguments[h]))r.call(i,c)&&(s[c]=i[c]);if(n){a=n(i);for(var u=0;u<a.length;u++)o.call(i,a[u])&&(s[a[u]]=i[a[u]])}}return s}:Object.assign},{}],23:[function(t,e,i){var n=arguments[3],r=arguments[4],o=arguments[5],a=JSON.stringify;e.exports=function(t,e){for(var i,s=Object.keys(o),h=0,c=s.length;h<c;h++){var u=s[h],f=o[u].exports;if(f===t||f&&f.default===t){i=u;break}}if(!i){i=Math.floor(4294967296*Math.random()).toString(16);for(var l={},h=0,c=s.length;h<c;h++){var u=s[h];l[u]=u}r[i]=["function(require,module,exports){"+t+"(self); }",l]}var A=Math.floor(4294967296*Math.random()).toString(16),p={};p[i]=i,r[A]=["function(require,module,exports){var f = require("+a(i)+");(f.default ? f.default : f)(self);}",p];var d={};(function t(e){for(var i in d[e]=!0,r[e][1]){var n=r[e][1][i];d[n]||t(n)}})(A);var g="("+n+")({"+Object.keys(d).map(function(t){return a(t)+":["+r[t][0]+","+a(r[t][1])+"]"}).join(",")+"},{},["+a(A)+"])",m=window.URL||window.webkitURL||window.mozURL||window.msURL,v=new Blob([g],{type:"text/javascript"});if(e&&e.bare)return v;var y=m.createObjectURL(v),w=new Worker(y);return w.objectURL=y,w}},{}],"/index.js":[function(t,e,i){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}var r=t("object-assign"),o=t("webworkify"),a=t("./lib/mathlib"),s=t("./lib/pool"),h=t("./lib/utils"),c=t("./lib/worker"),u=t("./lib/stepper"),f=t("./lib/tiler"),l=t("./lib/mm_resize/resize_filter_info"),A={},p=!1;try{"undefined"!=typeof navigator&&navigator.userAgent&&(p=navigator.userAgent.indexOf("Safari")>=0)}catch(d){}var g=1;"undefined"!=typeof navigator&&(g=Math.min(navigator.hardwareConcurrency||1,4));var m={tile:1024,concurrency:g,features:["js","wasm","ww"],idle:2e3,createCanvas:function(t,e){var i=document.createElement("canvas");return i.width=t,i.height=e,i}},v={filter:"mks2013",unsharpAmount:0,unsharpRadius:0,unsharpThreshold:0},y=!1,w=!1,b=!1,I=!1,B=!1;function E(){return{value:o(c),destroy:function(){if(this.value.terminate(),"undefined"!=typeof window){var t=window.URL||window.webkitURL||window.mozURL||window.msURL;t&&t.revokeObjectURL&&this.value.objectURL&&t.revokeObjectURL(this.value.objectURL)}}}}function C(t){if(!(this instanceof C))return new C(t);this.options=r({},m,t||{});var e="lk_".concat(this.options.concurrency);this.__limit=A[e]||h.limiter(this.options.concurrency),A[e]||(A[e]=this.__limit),this.features={js:!1,wasm:!1,cib:!1,ww:!1},this.__workersPool=null,this.__requested_features=[],this.__mathlib=null}C.prototype.init=function(){var e,i,n=this;if(this.__initPromise)return this.__initPromise;if("undefined"!=typeof ImageData&&"undefined"!=typeof Uint8ClampedArray)try{new ImageData(new Uint8ClampedArray(400),10,10),y=!0}catch(o){}"undefined"!=typeof ImageBitmap&&(ImageBitmap.prototype&&ImageBitmap.prototype.close?w=!0:this.debug("ImageBitmap does not support .close(), disabled"));var c=this.options.features.slice();if(c.indexOf("all")>=0&&(c=["cib","wasm","js","ww"]),this.__requested_features=c,this.__mathlib=new a(c),c.indexOf("ww")>=0&&"undefined"!=typeof window&&"Worker"in window)try{t("webworkify")(function(){}).terminate(),this.features.ww=!0;var u="wp_".concat(JSON.stringify(this.options));A[u]?this.__workersPool=A[u]:(this.__workersPool=new s(E,this.options.idle),A[u]=this.__workersPool)}catch(f){}var l=this.__mathlib.init().then(function(t){r(n.features,t.features)});e=w?h.cib_support(this.options.createCanvas).then(function(t){if(n.features.cib&&0>c.indexOf("cib")){n.debug("createImageBitmap() resize supported, but disabled by config");return}c.indexOf("cib")>=0&&(n.features.cib=t)}):Promise.resolve(!1),b=h.can_use_canvas(this.options.createCanvas),i=(i=w&&y&&-1!==c.indexOf("ww")?h.worker_offscreen_canvas_support():Promise.resolve(!1)).then(function(t){I=t});var p=h.cib_can_use_region().then(function(t){B=t});return this.__initPromise=Promise.all([l,e,i,p]).then(function(){return n}),this.__initPromise},C.prototype.__invokeResize=function(t,e){var i=this;return e.__mathCache=e.__mathCache||{},Promise.resolve().then(function(){return i.features.ww?new Promise(function(n,r){var o=i.__workersPool.acquire();e.cancelToken&&e.cancelToken.catch(function(t){return r(t)}),o.value.onmessage=function(t){o.release(),t.data.err?r(t.data.err):n(t.data)};var a=[];t.src&&a.push(t.src.buffer),t.srcBitmap&&a.push(t.srcBitmap),o.value.postMessage({opts:t,features:i.__requested_features,preload:{wasm_nodule:i.__mathlib.__}},a)}):{data:i.__mathlib.resizeAndUnsharp(t,e.__mathCache)}})},C.prototype.__extractTileData=function(t,e,i,n,r){if(this.features.ww&&I&&(h.isCanvas(e)||B))return this.debug("Create tile for OffscreenCanvas"),createImageBitmap(n.srcImageBitmap||e,t.x,t.y,t.width,t.height).then(function(t){return r.srcBitmap=t,r});if(h.isCanvas(e))return n.srcCtx||(n.srcCtx=e.getContext("2d")),this.debug("Get tile pixel data"),r.src=n.srcCtx.getImageData(t.x,t.y,t.width,t.height).data,r;this.debug("Draw tile imageBitmap/image to temporary canvas");var o=this.options.createCanvas(t.width,t.height),a=o.getContext("2d");return a.globalCompositeOperation="copy",a.drawImage(n.srcImageBitmap||e,t.x,t.y,t.width,t.height,0,0,t.width,t.height),this.debug("Get tile pixel data"),r.src=a.getImageData(0,0,t.width,t.height).data,o.width=o.height=0,r},C.prototype.__landTileData=function(t,e,i){var n;if(this.debug("Convert raw rgba tile result to ImageData"),e.bitmap)return i.toCtx.drawImage(e.bitmap,t.toX,t.toY),null;if(y)n=new ImageData(new Uint8ClampedArray(e.data),t.toWidth,t.toHeight);else if((n=i.toCtx.createImageData(t.toWidth,t.toHeight)).data.set)n.data.set(e.data);else for(var r=n.data.length-1;r>=0;r--)n.data[r]=e.data[r];return this.debug("Draw tile"),p?i.toCtx.putImageData(n,t.toX,t.toY,t.toInnerX-t.toX,t.toInnerY-t.toY,t.toInnerWidth+1e-5,t.toInnerHeight+1e-5):i.toCtx.putImageData(n,t.toX,t.toY,t.toInnerX-t.toX,t.toInnerY-t.toY,t.toInnerWidth,t.toInnerHeight),null},C.prototype.__tileAndResize=function(t,e,i){var n=this,r={srcCtx:null,srcImageBitmap:null,isImageBitmapReused:!1,toCtx:null};return Promise.resolve().then(function(){if(r.toCtx=e.getContext("2d"),h.isCanvas(t))return null;if(h.isImageBitmap(t))return r.srcImageBitmap=t,r.isImageBitmapReused=!0,null;if(h.isImage(t))return w?(n.debug("Decode image via createImageBitmap"),createImageBitmap(t).then(function(t){r.srcImageBitmap=t}).catch(function(t){return null})):null;throw Error('Pica: ".from" should be Image, Canvas or ImageBitmap')}).then(function(){if(i.canceled)return i.cancelToken;n.debug("Calculate tiles");var o=f({width:i.width,height:i.height,srcTileSize:n.options.tile,toWidth:i.toWidth,toHeight:i.toHeight,destTileBorder:i.__destTileBorder}).map(function(e){var o;return n.__limit(function(){if(i.canceled)return i.cancelToken;var o={width:e.width,height:e.height,toWidth:e.toWidth,toHeight:e.toHeight,scaleX:e.scaleX,scaleY:e.scaleY,offsetX:e.offsetX,offsetY:e.offsetY,filter:i.filter,unsharpAmount:i.unsharpAmount,unsharpRadius:i.unsharpRadius,unsharpThreshold:i.unsharpThreshold};return n.debug("Invoke resize math"),Promise.resolve(o).then(function(o){return n.__extractTileData(e,t,i,r,o)}).then(function(t){return n.debug("Invoke resize math"),n.__invokeResize(t,i)}).then(function(t){return i.canceled?i.cancelToken:(r.srcImageData=null,n.__landTileData(e,t,r))})})});function a(t){t.srcImageBitmap&&(t.isImageBitmapReused||t.srcImageBitmap.close(),t.srcImageBitmap=null)}return n.debug("Process tiles"),Promise.all(o).then(function(){return n.debug("Finished!"),a(r),e},function(t){throw a(r),t})})},C.prototype.__processStages=function(t,e,i,o){var a,s,h=this;if(o.canceled)return o.cancelToken;var c,u,f=function(t){if(Array.isArray(t))return t}(c=t.shift())||function(t,e){var i,n,r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var o=[],a=!0,s=!1;try{for(r=r.call(t);!(a=(i=r.next()).done)&&(o.push(i.value),!e||o.length!==e);a=!0);}catch(h){s=!0,n=h}finally{try{a||null==r.return||r.return()}finally{if(s)throw n}}return o}}(c,2)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if("Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(t,e)}}(c,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),A=f[0],p=f[1],d=0===t.length;return a=d||0>l.q2f.indexOf(o.filter)?o.filter:"box"===o.filter?"box":"hamming",o=r({},o,{toWidth:A,toHeight:p,filter:a}),d||(s=this.options.createCanvas(A,p)),this.__tileAndResize(e,d?i:s,o).then(function(){return d?i:(o.width=A,o.height=p,h.__processStages(t,s,i,o))}).then(function(t){return s&&(s.width=s.height=0),t})},C.prototype.__resizeViaCreateImageBitmap=function(t,e,i){var n=this,r=e.getContext("2d");return this.debug("Resize via createImageBitmap()"),createImageBitmap(t,{resizeWidth:i.toWidth,resizeHeight:i.toHeight,resizeQuality:h.cib_quality_name(l.f2q[i.filter])}).then(function(t){if(i.canceled)return i.cancelToken;if(!i.unsharpAmount)return r.drawImage(t,0,0),t.close(),r=null,n.debug("Finished!"),e;n.debug("Unsharp result");var o=n.options.createCanvas(i.toWidth,i.toHeight),a=o.getContext("2d");a.drawImage(t,0,0),t.close();var s=a.getImageData(0,0,i.toWidth,i.toHeight);return n.__mathlib.unsharp_mask(s.data,i.toWidth,i.toHeight,i.unsharpAmount,i.unsharpRadius,i.unsharpThreshold),r.putImageData(s,0,0),o.width=o.height=0,s=a=o=r=null,n.debug("Finished!"),e})},C.prototype.resize=function(t,e,i){var n=this;this.debug("Start resize...");var o=r({},v);if(isNaN(i)?i&&(o=r(o,i)):o=r(o,{quality:i}),o.toWidth=e.width,o.toHeight=e.height,o.width=t.naturalWidth||t.width,o.height=t.naturalHeight||t.height,Object.prototype.hasOwnProperty.call(o,"quality")){if(o.quality<0||o.quality>3)throw Error("Pica: .quality should be [0..3], got ".concat(o.quality));o.filter=l.q2f[o.quality]}return 0===e.width||0===e.height?Promise.reject(Error("Invalid output size: ".concat(e.width,"x").concat(e.height))):(o.unsharpRadius>2&&(o.unsharpRadius=2),o.canceled=!1,o.cancelToken&&(o.cancelToken=o.cancelToken.then(function(t){throw o.canceled=!0,t},function(t){throw o.canceled=!0,t})),o.__destTileBorder=Math.ceil(Math.max(3,2.5*o.unsharpRadius|0)),this.init().then(function(){if(o.canceled)return o.cancelToken;if(n.features.cib){if(l.q2f.indexOf(o.filter)>=0)return n.__resizeViaCreateImageBitmap(t,e,o);n.debug("cib is enabled, but not supports provided filter, fallback to manual math")}if(!b){var i=Error("Pica: cannot use getImageData on canvas, make sure fingerprinting protection isn't enabled");throw i.code="ERR_GET_IMAGE_DATA",i}var r=u(o.width,o.height,o.toWidth,o.toHeight,n.options.tile,o.__destTileBorder);return n.__processStages(r,t,e,o)}))},C.prototype.resizeBuffer=function(t){var e=this,i=r({},v,t);if(Object.prototype.hasOwnProperty.call(i,"quality")){if(i.quality<0||i.quality>3)throw Error("Pica: .quality should be [0..3], got ".concat(i.quality));i.filter=l.q2f[i.quality]}return this.init().then(function(){return e.__mathlib.resizeAndUnsharp(i)})},C.prototype.toBlob=function(t,e,i){return e=e||"image/png",new Promise(function(n){if(t.toBlob){t.toBlob(function(t){return n(t)},e,i);return}if(t.convertToBlob){n(t.convertToBlob({type:e,quality:i}));return}for(var r=atob(t.toDataURL(e,i).split(",")[1]),o=r.length,a=new Uint8Array(o),s=0;s<o;s++)a[s]=r.charCodeAt(s);n(new Blob([a],{type:e}))})},C.prototype.debug=function(){},e.exports=C},{"./lib/mathlib":1,"./lib/mm_resize/resize_filter_info":7,"./lib/pool":13,"./lib/stepper":14,"./lib/tiler":15,"./lib/utils":16,"./lib/worker":17,"object-assign":22,webworkify:23}]},{},[])("/index.js")},t.exports=e()},3218:function(t,e,i){"use strict";var n=i(5105),r=d(n),o=i(9663),a=d(o),s=i(2600),h=d(s),c=i(9135),u=d(c),f=i(3196),l=d(f),A=i(7294),p=d(A);function d(t){return t&&t.__esModule?t:{default:t}}var g=function(){return p.default.createElement("span",null)},m=function(t){function e(){(0,a.default)(this,e);for(var t,i=arguments.length,n=Array(i),o=0;o<i;o++)n[o]=arguments[o];var s=(0,u.default)(this,(t=(0,r.default)(e)).call.apply(t,[this].concat(n)));return s.state={canRender:!1},s}return(0,l.default)(e,t),(0,h.default)(e,[{key:"componentDidMount",value:function(){this.setState({canRender:!0})}},{key:"render",value:function(){var t=this.props,e=t.children,i=t.onSSR,n=void 0===i?p.default.createElement(g,null):i;return this.state.canRender?e:n}}]),e}(p.default.Component);e.default=m},6467:function(t,e,i){t.exports=i(3218)},7568:function(t,e,i){"use strict";function n(t,e,i,n,r,o,a){try{var s=t[o](a),h=s.value}catch(c){i(c);return}s.done?e(h):Promise.resolve(h).then(n,r)}function r(t){return function(){var e=this,i=arguments;return new Promise(function(r,o){var a=t.apply(e,i);function s(t){n(a,r,o,s,h,"next",t)}function h(t){n(a,r,o,s,h,"throw",t)}s(void 0)})}}i.d(e,{Z:function(){return r}})}}]);